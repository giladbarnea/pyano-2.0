"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const bhe_1 = require("./bhe");
console.group('init.ts');
const util = require("./util");
const MyPyShell_1 = require("./MyPyShell");
const Pages = require("./pages");
const MyAlert_1 = require("./MyAlert");
const Glob_1 = require("./Glob");
util.waitUntil(MyPyShell_1.isDone).then(() => {
    console.group('init.ts MyPyShell done');
    Pages.sidebar.build();
    const last_page = Glob_1.default.Store.last_page;
    console.log('last_page:', last_page);
    Pages.toPage(last_page, false);
    bhe_1.elem({ id: 'exit_btn' }).click(async () => {
        let { value: shouldExit } = await MyAlert_1.default.big.warning({
            title: 'Are you sure you want to exit?',
            confirmButtonColor: '#dc3545',
        });
        if (shouldExit)
            util.getCurrentWindow().close();
    });
    bhe_1.elem({ id: 'minimize_btn' }).click(() => util.getCurrentWindow().minimize());
    console.groupEnd();
});
console.groupEnd();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5pdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImluaXQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwrQkFBNkI7QUFFN0IsT0FBTyxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUN6QiwrQkFBK0I7QUFHL0IsMkNBQXFDO0FBRXJDLGlDQUFpQztBQUNqQyx1Q0FBK0I7QUFDL0IsaUNBQTBCO0FBTTFCLElBQUksQ0FBQyxTQUFTLENBQUMsa0JBQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUU7SUFDN0IsT0FBTyxDQUFDLEtBQUssQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO0lBQ3hDLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUM7SUFHdEIsTUFBTSxTQUFTLEdBQUcsY0FBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUM7SUFDdkMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDckMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDL0IsVUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFHLFVBQVUsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssSUFBSSxFQUFFO1FBQ3ZDLElBQUksRUFBRSxLQUFLLEVBQUcsVUFBVSxFQUFFLEdBQUcsTUFBTSxpQkFBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUM7WUFDbkQsS0FBSyxFQUFHLGdDQUFnQztZQUN4QyxrQkFBa0IsRUFBRyxTQUFTO1NBQ2pDLENBQUMsQ0FBQztRQUNILElBQUssVUFBVTtZQUNYLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ3hDLENBQUMsQ0FBQyxDQUFDO0lBQ0gsVUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFHLGNBQWMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFHOUUsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDO0FBQ3ZCLENBQUMsQ0FBQyxDQUFDO0FBT0gsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZWxlbSB9IGZyb20gXCIuL2JoZVwiO1xuXG5jb25zb2xlLmdyb3VwKCdpbml0LnRzJyk7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuL3V0aWxcIjtcblxuXG5pbXBvcnQgeyBpc0RvbmUgfSBmcm9tIFwiLi9NeVB5U2hlbGxcIjtcblxuaW1wb3J0ICogYXMgUGFnZXMgZnJvbSBcIi4vcGFnZXNcIjtcbmltcG9ydCBNeUFsZXJ0IGZyb20gJy4vTXlBbGVydCdcbmltcG9ydCBHbG9iIGZyb20gJy4vR2xvYic7XG4vLyBpbXBvcnQgeyByZW1vdGUgfSBmcm9tICdlbGVjdHJvbidcblxuLy8gY29uc29sZS5sb2coJ2FmdGVyIGltcG9ydGluZyBNeVB5U2hlbGwnLCBpc0RvbmUoKSk7XG5cblxudXRpbC53YWl0VW50aWwoaXNEb25lKS50aGVuKCgpID0+IHtcbiAgICBjb25zb2xlLmdyb3VwKCdpbml0LnRzIE15UHlTaGVsbCBkb25lJyk7XG4gICAgUGFnZXMuc2lkZWJhci5idWlsZCgpO1xuICAgIFxuICAgIFxuICAgIGNvbnN0IGxhc3RfcGFnZSA9IEdsb2IuU3RvcmUubGFzdF9wYWdlO1xuICAgIGNvbnNvbGUubG9nKCdsYXN0X3BhZ2U6JywgbGFzdF9wYWdlKTtcbiAgICBQYWdlcy50b1BhZ2UobGFzdF9wYWdlLCBmYWxzZSk7XG4gICAgZWxlbSh7IGlkIDogJ2V4aXRfYnRuJyB9KS5jbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgIGxldCB7IHZhbHVlIDogc2hvdWxkRXhpdCB9ID0gYXdhaXQgTXlBbGVydC5iaWcud2FybmluZyh7XG4gICAgICAgICAgICB0aXRsZSA6ICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZXhpdD8nLFxuICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yIDogJyNkYzM1NDUnLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCBzaG91bGRFeGl0IClcbiAgICAgICAgICAgIHV0aWwuZ2V0Q3VycmVudFdpbmRvdygpLmNsb3NlKCk7XG4gICAgfSk7XG4gICAgZWxlbSh7IGlkIDogJ21pbmltaXplX2J0bicgfSkuY2xpY2soKCkgPT4gdXRpbC5nZXRDdXJyZW50V2luZG93KCkubWluaW1pemUoKSk7XG4gICAgXG4gICAgXG4gICAgY29uc29sZS5ncm91cEVuZCgpO1xufSk7XG5cblxuLypcbiBcbiBcbiAvKiovXG5jb25zb2xlLmdyb3VwRW5kKCk7XG4vKlxuIGltcG9ydCB7IHJlbW90ZSB9IGZyb20gXCJlbGVjdHJvblwiO1xuIFxuIFxuIFxuIGltcG9ydCB7IEVTdG9yZSB9IGZyb20gXCJweWFub19sb2NhbF9tb2R1bGVzL2V4dF9saWJzXCI7XG4gXG4gXG4gZnVuY3Rpb24gbWF5YmVUb2dnbGVOb0N1cnNvcigpIHtcbiBjb25zdCBzaG91bGRUb2dnbGUgPSBFU3RvcmUubGFzdF9wYWdlID09IFwiaW5zaWRlX3Rlc3RcIjtcbiBjb25zb2xlLmxvZyhgUHJlc3NlZCBBbHQrQywgJHtzaG91bGRUb2dnbGUgPyAnJyA6ICdub3QgJ310b2dnbGluZyBub2N1cnNvcmApO1xuIGlmICggc2hvdWxkVG9nZ2xlIClcbiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbl9jb250ZW50JykuY2xhc3NMaXN0LnRvZ2dsZSgnbm9jdXJzb3InKTtcbiB9XG4gXG4gXG4gZnVuY3Rpb24gcmVsb2FkTWFpbldpbmRvdygpIHtcbiByZW1vdGUuZ2V0Q3VycmVudFdpbmRvdygpLnJlbG9hZCgpO1xuIH1cbiBcbiBcbiBmdW5jdGlvbiByZWxvYWRUb05ld1Rlc3QoKSB7XG4gY29uc29sZS5sb2coJ1ByZXNzZWQgY3RybCtxLCBzZXR0aW5nIGxhc3QgcGFnZSB0byBuZXcgdGVzdCBhbmQgcmVsb2FkaW5nJyk7XG4gRVN0b3JlLmxhc3RfcGFnZSA9ICduZXdfdGVzdCc7XG4gcmVtb3RlLmdldEN1cnJlbnRXaW5kb3coKS5yZWxvYWQoKTtcbiB9XG4gXG4gXG4gZnVuY3Rpb24gb3BlbkRldlRvb2xzKCkge1xuIGNvbnNvbGUubG9nKCdQcmVzc2VkIGN0cmwreSwgb3BlbmluZyBEZXZUb29scycpO1xuIHJlbW90ZS5nZXRDdXJyZW50V2luZG93KCkud2ViQ29udGVudHMub3BlbkRldlRvb2xzKCk7XG4gfVxuIFxuIFxuIGZ1bmN0aW9uIHRvZ2dsZU1heGltaXplKCkge1xuIGNvbnNvbGUubG9nKCdQcmVzc2VkIGN0cmwrdSwgdG9nZ2xpbmcgbWF4aW1pemUnKTtcbiBjb25zdCBjdXJyZW50V2luZG93ID0gcmVtb3RlLmdldEN1cnJlbnRXaW5kb3coKTtcbiBjdXJyZW50V2luZG93LnNldEZ1bGxTY3JlZW4oIWN1cnJlbnRXaW5kb3cuaXNGdWxsU2NyZWVuKCkpO1xuIGN1cnJlbnRXaW5kb3cuc2V0TWVudUJhclZpc2liaWxpdHkoY3VycmVudFdpbmRvdy5pc0Z1bGxTY3JlZW4oKSk7XG4gfVxuIFxuIHJlbW90ZS5nZXRDdXJyZW50V2luZG93KCkub24oXCJmb2N1c1wiLCAoKSA9PiB7XG4gcmVtb3RlLmdsb2JhbFNob3J0Y3V0LnJlZ2lzdGVyKCdBbHQrQycsIG1heWJlVG9nZ2xlTm9DdXJzb3IpO1xuIHJlbW90ZS5nbG9iYWxTaG9ydGN1dC5yZWdpc3RlcignQ29tbWFuZE9yQ29udHJvbCtSJywgcmVsb2FkTWFpbldpbmRvdyk7XG4gcmVtb3RlLmdsb2JhbFNob3J0Y3V0LnJlZ2lzdGVyKCdDb21tYW5kT3JDb250cm9sK1EnLCByZWxvYWRUb05ld1Rlc3QpO1xuIHJlbW90ZS5nbG9iYWxTaG9ydGN1dC5yZWdpc3RlcignQ29tbWFuZE9yQ29udHJvbCtZJywgb3BlbkRldlRvb2xzKTtcbiByZW1vdGUuZ2xvYmFsU2hvcnRjdXQucmVnaXN0ZXIoJ0NvbW1hbmRPckNvbnRyb2wrVScsIHRvZ2dsZU1heGltaXplKTtcbiB9KTtcbiByZW1vdGUuZ2V0Q3VycmVudFdpbmRvdygpLm9uKCdibHVyJywgKCkgPT4gcmVtb3RlLmdsb2JhbFNob3J0Y3V0LnVucmVnaXN0ZXJBbGwoKSk7XG4gXG4gXG4gY29uc3Qgc2lkZWJhciA9IHJlcXVpcmUoXCJweWFub19sb2NhbF9tb2R1bGVzL3NpZGViYXJcIik7XG4gc2lkZWJhci5idWlsZCgpO1xuIGNvbnN0IFBhZ2VzID0gcmVxdWlyZShcInB5YW5vX2xvY2FsX21vZHVsZXMvcGFnZXMvcGFnZXNcIik7XG4gXG4gY29uc3QgbGFzdF9wYWdlID0gRVN0b3JlLmxhc3RfcGFnZTtcbiBjb25zb2xlLmxvZygnaW5pdC5qcycsIHsgbGFzdF9wYWdlIH0pO1xuIFBhZ2VzLnRvUGFnZShsYXN0X3BhZ2UsIGZhbHNlKTtcbiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhpdF9idG4nKVxuIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiBsZXQgeyB2YWx1ZSA6IHNob3VsZEV4aXQgfSA9IGF3YWl0IEFsZXJ0LmJpZy53YXJuaW5nKHtcbiB0aXRsZSA6ICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZXhpdD8nLFxuIGNvbmZpcm1CdXR0b25Db2xvciA6ICcjZGMzNTQ1JyxcbiBhbmltYXRpb24gOiBmYWxzZVxuIH0pO1xuIGlmICggc2hvdWxkRXhpdCApXG4gZ2V0Q3VycmVudFdpbmRvdygpLmNsb3NlKCk7XG4gfSk7XG4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21pbmltaXplX2J0bicpXG4gLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gZ2V0Q3VycmVudFdpbmRvdygpLm1pbmltaXplKCkpO1xuICovXG4iXX0=