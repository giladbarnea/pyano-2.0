console.group(`renderer.ts`);
const { remote } = require('electron');
const argvars = remote.process.argv.slice(2).map(s => s.toLowerCase());
const DEBUG = argvars.includes('debug');
const DRYRUN = argvars.includes('dry-run');
const NOPYTHON = argvars.includes('no-python');
const path = require('path');
let ROOT_PATH_ABS;
let SRC_PATH_ABS;
if (path.basename(__dirname) === 'src') {
    ROOT_PATH_ABS = path.join(__dirname, '..');
    SRC_PATH_ABS = __dirname;
}
else {
    ROOT_PATH_ABS = __dirname;
    SRC_PATH_ABS = path.join(ROOT_PATH_ABS, 'src');
}
const SALAMANDER_PATH_ABS = path.join(SRC_PATH_ABS, 'Salamander');
const EXPERIMENTS_PATH_ABS = path.join(SRC_PATH_ABS, 'experiments');
const TRUTHS_PATH_ABS = path.join(EXPERIMENTS_PATH_ABS, 'truths');
const CONFIGS_PATH_ABS = path.join(EXPERIMENTS_PATH_ABS, 'configs');
const SUBJECTS_PATH_ABS = path.join(EXPERIMENTS_PATH_ABS, 'subjects');
const util = require('./util');
remote.getCurrentWindow().on("focus", () => {
    remote.globalShortcut.register('CommandOrControl+Y', () => remote.getCurrentWindow().webContents.openDevTools());
    remote.globalShortcut.register('CommandOrControl+Q', async () => {
        const MyAlert = require('./MyAlert').default;
        console.log('ctrl+q', MyAlert);
        const action = await MyAlert.big.twoButtons('Reset finished trials count and back to New page?');
        if (action === "cancel") {
            return;
        }
        require('./Glob').default.BigConfig.last_page = 'new';
        remote.getCurrentWindow().reload();
    });
});
remote.getCurrentWindow().on('blur', () => remote.globalShortcut.unregisterAll());
console.table({
    __dirname,
    ROOT_PATH_ABS,
    SRC_PATH_ABS,
    TEMPLATES_PATH_ABS,
    SALAMANDER_PATH_ABS,
    EXPERIMENTS_PATH_ABS,
    TRUTHS_PATH_ABS,
    CONFIGS_PATH_ABS,
    SUBJECTS_PATH_ABS,
    DEBUG, DRYRUN, NOPYTHON
});
Object.defineProperty(Object.prototype, "keys", {
    enumerable: false,
    value() {
        return Object.keys(this).map(key => key.isdigit()
            ? parseInt(key) : key);
    }
});
Object.defineProperty(Array.prototype, "lazy", {
    enumerable: false,
    *value(fn) {
        for (let x in this) {
            yield fn(x);
        }
    }
});
Object.defineProperty(Array.prototype, "last", {
    enumerable: false,
    value() {
        return this[this.length - 1];
    }
});
Object.defineProperty(Array.prototype, "lowerAll", {
    enumerable: false,
    value() {
        if (!util.bool(this._lowerAll)) {
            this._lowerAll = [];
            for (let x of this) {
                this._lowerAll.push(x.lower());
            }
        }
        return this._lowerAll;
    }
});
Object.defineProperty(Array.prototype, "rsort", {
    enumerable: false,
    value() {
        return this.sort((n, m) => n < m);
    }
});
Object.defineProperty(Array.prototype, "count", {
    enumerable: false,
    value(item) {
        let _count = 0;
        if (util.isFunction(item)) {
            for (let x of this) {
                if (item(x)) {
                    _count++;
                }
            }
        }
        else {
            for (let x of this) {
                if (x === item) {
                    _count++;
                }
            }
            return _count;
        }
    }
});
Object.defineProperty(String.prototype, "endsWithAny", {
    enumerable: false,
    value(...args) {
        for (let x of args) {
            if (this.endsWith(x)) {
                return true;
            }
        }
        return false;
    }
});
Object.defineProperty(String.prototype, "upTo", {
    enumerable: false,
    value(searchString, searchFromEnd = false) {
        let end = searchFromEnd
            ? this.lastIndexOf(searchString)
            : this.indexOf(searchString);
        if (end === -1)
            console.warn(`${this.valueOf()}.upTo(${searchString},${searchFromEnd}) index is -1`);
        return this.slice(0, end);
    }
});
Object.defineProperty(String.prototype, "in", {
    enumerable: false,
    value(arr) {
        return arr.includes(this.valueOf());
    }
});
Object.defineProperty(String.prototype, "lower", {
    enumerable: false,
    value() {
        return this.toLowerCase();
    }
});
Object.defineProperty(String.prototype, "upper", {
    enumerable: false,
    value() {
        return this.toUpperCase();
    }
});
Object.defineProperty(String.prototype, "title", {
    enumerable: false,
    value() {
        if (this.includes(' ')) {
            return this.split(' ').map(str => str.title()).join(' ');
        }
        else {
            if (this.match(/[_\-.]/)) {
                let temp = this.replaceAll(/[_\-.]/, ' ');
                return temp.title();
            }
            else {
                return this[0].upper() + this.slice(1, this.length).lower();
            }
        }
    }
});
Object.defineProperty(String.prototype, "isdigit", {
    enumerable: false,
    value() {
        return !isNaN(Math.floor(this));
    }
});
Object.defineProperty(String.prototype, "removeAll", {
    enumerable: false,
    value(removeValue, ...removeValues) {
        let temp = this;
        for (let value of [removeValue, ...removeValues])
            temp = temp.replaceAll(value, '');
        return temp;
    }
});
Object.defineProperty(String.prototype, "replaceAll", {
    enumerable: false,
    value(searchValue, replaceValue) {
        const type = typeof searchValue;
        if (type === 'string' || type === 'number') {
            return this
                .split(searchValue)
                .join(replaceValue);
        }
        else if (type === 'object') {
            if (searchValue.compile) {
                let temp = this;
                let replaced = temp.replace(searchValue, replaceValue);
                while (replaced !== temp) {
                    temp = replaced;
                    replaced = replaced.replace(searchValue, replaceValue);
                }
                return replaced;
            }
            else {
                let temp = this;
                for (let [sv, rv] of Object.entries(searchValue))
                    temp = temp.replaceAll(sv, rv);
                return temp;
            }
        }
        else {
            console.warn(`replaceAll got a bad type, searchValue: ${searchValue}, type: ${type}`);
            return this;
        }
    }
});
Object.defineProperty(Number.prototype, "human", {
    enumerable: false,
    value(letters = false) {
        const floored = Math.floor(this);
        switch (floored) {
            case 0:
                return letters
                    ? "zeroth"
                    : "0th";
            case 1:
                return letters
                    ? "first"
                    : "1st";
            case 2:
                return letters
                    ? "second"
                    : "2nd";
            case 3:
                return letters
                    ? "third"
                    : "3rd";
            case 4:
                return letters
                    ? "fourth"
                    : "4th";
            case 5:
                return letters
                    ? "fifth"
                    : "5th";
            case 6:
                return letters
                    ? "sixth"
                    : "6th";
            case 7:
                return letters
                    ? "seventh"
                    : "7th";
            case 8:
                return letters
                    ? "eighth"
                    : "8th";
            case 9:
                return letters
                    ? "ninth"
                    : "9th";
            case 10:
                return letters
                    ? "tenth"
                    : "10th";
            case 11:
                return letters
                    ? "eleventh"
                    : "11th";
            case 12:
                return letters
                    ? "twelveth"
                    : "12th";
            case 13:
                return letters
                    ? "thirteenth"
                    : "13th";
            case 14:
                return letters
                    ? "fourteenth"
                    : "14th";
            case 15:
                return letters
                    ? "fifteenth"
                    : "15th";
            case 16:
                return letters
                    ? "sixteenth"
                    : "16th";
            case 17:
                return letters
                    ? "seventeenth"
                    : "17th";
            case 18:
                return letters
                    ? "eighteenth"
                    : "18th";
            case 19:
                return letters
                    ? "ninteenth"
                    : "19th";
            default:
                const stringed = floored.toString();
                const lastChar = stringed.slice(-1);
                let suffix;
                switch (lastChar) {
                    case "1":
                        suffix = "st";
                        break;
                    case "2":
                        suffix = "nd";
                        break;
                    case "3":
                        suffix = "rd";
                        break;
                    default:
                        suffix = "th";
                        break;
                }
                return `${floored}${suffix}`;
        }
    }
});
Object.defineProperty(Date.prototype, "human", {
    enumerable: false, value() {
        let d = this.getUTCDate();
        d = d < 10 ? `0${d}` : d;
        let m = this.getMonth() + 1;
        m = m < 10 ? `0${m}` : m;
        const y = this.getFullYear();
        const t = this.toTimeString().slice(0, 8).replaceAll(':', '-');
        return `${d}_${m}_${y}_${t}`;
    }
});
console.groupEnd();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVuZGVyZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJyZW5kZXJlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFRQSxPQUFPLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBRTdCLE1BQU0sRUFBRSxNQUFNLEVBQUUsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDdkMsTUFBTSxPQUFPLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDO0FBQ3ZFLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDeEMsTUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUMzQyxNQUFNLFFBQVEsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBRS9DLE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUU3QixJQUFJLGFBQXFCLENBQUM7QUFDMUIsSUFBSSxZQUFvQixDQUFDO0FBQ3pCLElBQUssSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsS0FBSyxLQUFLLEVBQUc7SUFDdEMsYUFBYSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNDLFlBQVksR0FBRyxTQUFTLENBQUM7Q0FDNUI7S0FBTTtJQUNILGFBQWEsR0FBRyxTQUFTLENBQUM7SUFDMUIsWUFBWSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLEtBQUssQ0FBQyxDQUFDO0NBQ2xEO0FBSUQsTUFBTSxtQkFBbUIsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxZQUFZLENBQUMsQ0FBQztBQUdsRSxNQUFNLG9CQUFvQixHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLGFBQWEsQ0FBQyxDQUFDO0FBRXBFLE1BQU0sZUFBZSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsb0JBQW9CLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFFbEUsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLG9CQUFvQixFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBRXBFLE1BQU0saUJBQWlCLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxVQUFVLENBQUMsQ0FBQztBQUN0RSxNQUFNLElBQUksR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDL0IsTUFBTSxDQUFDLGdCQUFnQixFQUFFLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUU7SUFFdkMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsb0JBQW9CLEVBQUUsR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLGdCQUFnQixFQUFFLENBQUMsV0FBVyxDQUFDLFlBQVksRUFBRSxDQUFDLENBQUM7SUFDakgsTUFBTSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsb0JBQW9CLEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDNUQsTUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sQ0FBQztRQUM3QyxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUMvQixNQUFNLE1BQU0sR0FBRyxNQUFNLE9BQU8sQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLG1EQUFtRCxDQUFDLENBQUM7UUFDakcsSUFBSyxNQUFNLEtBQUssUUFBUSxFQUFHO1lBQ3ZCLE9BQU87U0FDVjtRQUNELE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7UUFDdEQsTUFBTSxDQUFDLGdCQUFnQixFQUFFLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDdkMsQ0FBQyxDQUFDLENBQUM7QUFDUCxDQUFDLENBQUMsQ0FBQztBQUNILE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxhQUFhLEVBQUUsQ0FBQyxDQUFDO0FBbURsRixPQUFPLENBQUMsS0FBSyxDQUFDO0lBQ1YsU0FBUztJQUNULGFBQWE7SUFDYixZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLG1CQUFtQjtJQUNuQixvQkFBb0I7SUFDcEIsZUFBZTtJQUNmLGdCQUFnQjtJQUNoQixpQkFBaUI7SUFDakIsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRO0NBQzFCLENBQUMsQ0FBQztBQUVILE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxNQUFNLEVBQUU7SUFDNUMsVUFBVSxFQUFHLEtBQUs7SUFDbEIsS0FBSztRQUVELE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFO1lBQzdDLENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQy9CLENBQUM7Q0FDSixDQUFDLENBQUM7QUFFSCxNQUFNLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsTUFBTSxFQUFFO0lBQzNDLFVBQVUsRUFBRyxLQUFLO0lBQ2xCLENBQUUsS0FBSyxDQUFDLEVBQUU7UUFDTixLQUFNLElBQUksQ0FBQyxJQUFJLElBQUksRUFBRztZQUNsQixNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUNkO0lBQ0wsQ0FBQztDQUNKLENBQUUsQ0FBQztBQUNKLE1BQU0sQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxNQUFNLEVBQUU7SUFDM0MsVUFBVSxFQUFHLEtBQUs7SUFDbEIsS0FBSztRQUNELE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDakMsQ0FBQztDQUNKLENBQUUsQ0FBQztBQUNKLE1BQU0sQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxVQUFVLEVBQUU7SUFDL0MsVUFBVSxFQUFHLEtBQUs7SUFDbEIsS0FBSztRQUVELElBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRztZQUM5QixJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztZQUNwQixLQUFNLElBQUksQ0FBQyxJQUFJLElBQUksRUFBRztnQkFDbEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7YUFDbEM7U0FDSjtRQUNELE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUMxQixDQUFDO0NBQ0osQ0FBRSxDQUFDO0FBQ0osTUFBTSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLE9BQU8sRUFBRTtJQUM1QyxVQUFVLEVBQUcsS0FBSztJQUNsQixLQUFLO1FBQ0QsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ3RDLENBQUM7Q0FDSixDQUFFLENBQUM7QUFDSixNQUFNLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsT0FBTyxFQUFFO0lBQzVDLFVBQVUsRUFBRyxLQUFLO0lBQ2xCLEtBQUssQ0FBQyxJQUFTO1FBQ1gsSUFBSSxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBRWYsSUFBSyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxFQUFHO1lBQ3pCLEtBQU0sSUFBSSxDQUFDLElBQUksSUFBSSxFQUFHO2dCQUNsQixJQUFLLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRztvQkFDWCxNQUFNLEVBQUUsQ0FBQztpQkFDWjthQUNKO1NBQ0o7YUFBTTtZQUVILEtBQU0sSUFBSSxDQUFDLElBQUksSUFBSSxFQUFHO2dCQUNsQixJQUFLLENBQUMsS0FBSyxJQUFJLEVBQUc7b0JBQ2QsTUFBTSxFQUFFLENBQUM7aUJBQ1o7YUFDSjtZQUNELE9BQU8sTUFBTSxDQUFDO1NBQ2pCO0lBRUwsQ0FBQztDQUVKLENBQUUsQ0FBQztBQUdKLE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxhQUFhLEVBQUU7SUFDbkQsVUFBVSxFQUFHLEtBQUs7SUFDbEIsS0FBSyxDQUFDLEdBQUcsSUFBYztRQUNuQixLQUFNLElBQUksQ0FBQyxJQUFJLElBQUksRUFBRztZQUNsQixJQUFLLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUc7Z0JBQ3BCLE9BQU8sSUFBSSxDQUFDO2FBQ2Y7U0FDSjtRQUNELE9BQU8sS0FBSyxDQUFDO0lBRWpCLENBQUM7Q0FDSixDQUFFLENBQUM7QUFDSixNQUFNLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsTUFBTSxFQUFFO0lBQzVDLFVBQVUsRUFBRyxLQUFLO0lBQ2xCLEtBQUssQ0FBQyxZQUFvQixFQUFFLGFBQWEsR0FBRyxLQUFLO1FBQzdDLElBQUksR0FBRyxHQUFHLGFBQWE7WUFDbkIsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsWUFBWSxDQUFDO1lBQ2hDLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ2pDLElBQUssR0FBRyxLQUFLLENBQUMsQ0FBQztZQUNYLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxFQUFFLFNBQVMsWUFBWSxJQUFJLGFBQWEsZUFBZSxDQUFDLENBQUM7UUFDekYsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUM5QixDQUFDO0NBQ0osQ0FBRSxDQUFDO0FBQ0osTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLElBQUksRUFBRTtJQUMxQyxVQUFVLEVBQUcsS0FBSztJQUNsQixLQUFLLENBQUMsR0FBVTtRQUNaLE9BQU8sR0FBRyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztJQUN4QyxDQUFDO0NBQ0osQ0FBRSxDQUFDO0FBQ0osTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLE9BQU8sRUFBRTtJQUM3QyxVQUFVLEVBQUcsS0FBSztJQUNsQixLQUFLO1FBQ0QsT0FBTyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDOUIsQ0FBQztDQUNKLENBQUUsQ0FBQztBQUNKLE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxPQUFPLEVBQUU7SUFDN0MsVUFBVSxFQUFHLEtBQUs7SUFDbEIsS0FBSztRQUNELE9BQU8sSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFBO0lBQzdCLENBQUM7Q0FDSixDQUFFLENBQUM7QUFDSixNQUFNLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsT0FBTyxFQUFFO0lBQzdDLFVBQVUsRUFBRyxLQUFLO0lBQ2xCLEtBQUs7UUFDRCxJQUFLLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUc7WUFDdEIsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUM1RDthQUFNO1lBQ0gsSUFBSyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxFQUFHO2dCQUN4QixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FBQztnQkFDMUMsT0FBTyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUE7YUFDdEI7aUJBQU07Z0JBQ0gsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO2FBQy9EO1NBQ0o7SUFHTCxDQUFDO0NBQ0osQ0FBRSxDQUFDO0FBQ0osTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLFNBQVMsRUFBRTtJQUMvQyxVQUFVLEVBQUcsS0FBSztJQUNsQixLQUFLO1FBQ0QsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDcEMsQ0FBQztDQUNKLENBQUUsQ0FBQztBQUNKLE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxXQUFXLEVBQUU7SUFDakQsVUFBVSxFQUFHLEtBQUs7SUFFbEIsS0FBSyxDQUFDLFdBQVcsRUFBRSxHQUFHLFlBQVk7UUFDOUIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2hCLEtBQU0sSUFBSSxLQUFLLElBQUksQ0FBRSxXQUFXLEVBQUUsR0FBRyxZQUFZLENBQUU7WUFDL0MsSUFBSSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ3RDLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7Q0FDSixDQUFDLENBQUM7QUFDSCxNQUFNLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsWUFBWSxFQUFFO0lBQ2xELFVBQVUsRUFBRyxLQUFLO0lBRWxCLEtBQUssQ0FBQyxXQUFzRCxFQUFFLFlBQXFCO1FBQy9FLE1BQU0sSUFBSSxHQUFHLE9BQU8sV0FBVyxDQUFDO1FBQ2hDLElBQUssSUFBSSxLQUFLLFFBQVEsSUFBSSxJQUFJLEtBQUssUUFBUSxFQUFHO1lBQzFDLE9BQU8sSUFBSTtpQkFDTixLQUFLLENBQUMsV0FBVyxDQUFDO2lCQUNsQixJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7U0FDM0I7YUFBTSxJQUFLLElBQUksS0FBSyxRQUFRLEVBQUc7WUFDNUIsSUFBZSxXQUFZLENBQUMsT0FBTyxFQUFHO2dCQUNsQyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUM7Z0JBQ2hCLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLFlBQVksQ0FBQyxDQUFDO2dCQUN2RCxPQUFRLFFBQVEsS0FBSyxJQUFJLEVBQUc7b0JBQ3hCLElBQUksR0FBRyxRQUFRLENBQUM7b0JBQ2hCLFFBQVEsR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRSxZQUFZLENBQUMsQ0FBQztpQkFDMUQ7Z0JBQ0QsT0FBTyxRQUFRLENBQUM7YUFDbkI7aUJBQU07Z0JBQ0gsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO2dCQUNoQixLQUFNLElBQUksQ0FBRSxFQUFFLEVBQUUsRUFBRSxDQUFFLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUM7b0JBQy9DLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztnQkFFbkMsT0FBTyxJQUFJLENBQUM7YUFDZjtTQUNKO2FBQU07WUFDSCxPQUFPLENBQUMsSUFBSSxDQUFDLDJDQUEyQyxXQUFXLFdBQVcsSUFBSSxFQUFFLENBQUMsQ0FBQztZQUN0RixPQUFPLElBQUksQ0FBQztTQUNmO0lBQ0wsQ0FBQztDQUNKLENBQUMsQ0FBQztBQUVILE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxPQUFPLEVBQUU7SUFDN0MsVUFBVSxFQUFHLEtBQUs7SUFDbEIsS0FBSyxDQUFDLE9BQU8sR0FBRyxLQUFLO1FBQ2pCLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDakMsUUFBUyxPQUFPLEVBQUc7WUFDZixLQUFLLENBQUM7Z0JBQ0YsT0FBTyxPQUFPO29CQUNWLENBQUMsQ0FBQyxRQUFRO29CQUNWLENBQUMsQ0FBQyxLQUFLLENBQUM7WUFDaEIsS0FBSyxDQUFDO2dCQUNGLE9BQU8sT0FBTztvQkFDVixDQUFDLENBQUMsT0FBTztvQkFDVCxDQUFDLENBQUMsS0FBSyxDQUFDO1lBQ2hCLEtBQUssQ0FBQztnQkFDRixPQUFPLE9BQU87b0JBQ1YsQ0FBQyxDQUFDLFFBQVE7b0JBQ1YsQ0FBQyxDQUFDLEtBQUssQ0FBQztZQUNoQixLQUFLLENBQUM7Z0JBQ0YsT0FBTyxPQUFPO29CQUNWLENBQUMsQ0FBQyxPQUFPO29CQUNULENBQUMsQ0FBQyxLQUFLLENBQUM7WUFDaEIsS0FBSyxDQUFDO2dCQUNGLE9BQU8sT0FBTztvQkFDVixDQUFDLENBQUMsUUFBUTtvQkFDVixDQUFDLENBQUMsS0FBSyxDQUFDO1lBQ2hCLEtBQUssQ0FBQztnQkFDRixPQUFPLE9BQU87b0JBQ1YsQ0FBQyxDQUFDLE9BQU87b0JBQ1QsQ0FBQyxDQUFDLEtBQUssQ0FBQztZQUNoQixLQUFLLENBQUM7Z0JBQ0YsT0FBTyxPQUFPO29CQUNWLENBQUMsQ0FBQyxPQUFPO29CQUNULENBQUMsQ0FBQyxLQUFLLENBQUM7WUFDaEIsS0FBSyxDQUFDO2dCQUNGLE9BQU8sT0FBTztvQkFDVixDQUFDLENBQUMsU0FBUztvQkFDWCxDQUFDLENBQUMsS0FBSyxDQUFDO1lBQ2hCLEtBQUssQ0FBQztnQkFDRixPQUFPLE9BQU87b0JBQ1YsQ0FBQyxDQUFDLFFBQVE7b0JBQ1YsQ0FBQyxDQUFDLEtBQUssQ0FBQztZQUNoQixLQUFLLENBQUM7Z0JBQ0YsT0FBTyxPQUFPO29CQUNWLENBQUMsQ0FBQyxPQUFPO29CQUNULENBQUMsQ0FBQyxLQUFLLENBQUM7WUFDaEIsS0FBSyxFQUFFO2dCQUNILE9BQU8sT0FBTztvQkFDVixDQUFDLENBQUMsT0FBTztvQkFDVCxDQUFDLENBQUMsTUFBTSxDQUFDO1lBQ2pCLEtBQUssRUFBRTtnQkFDSCxPQUFPLE9BQU87b0JBQ1YsQ0FBQyxDQUFDLFVBQVU7b0JBQ1osQ0FBQyxDQUFDLE1BQU0sQ0FBQztZQUNqQixLQUFLLEVBQUU7Z0JBQ0gsT0FBTyxPQUFPO29CQUNWLENBQUMsQ0FBQyxVQUFVO29CQUNaLENBQUMsQ0FBQyxNQUFNLENBQUM7WUFDakIsS0FBSyxFQUFFO2dCQUNILE9BQU8sT0FBTztvQkFDVixDQUFDLENBQUMsWUFBWTtvQkFDZCxDQUFDLENBQUMsTUFBTSxDQUFDO1lBQ2pCLEtBQUssRUFBRTtnQkFDSCxPQUFPLE9BQU87b0JBQ1YsQ0FBQyxDQUFDLFlBQVk7b0JBQ2QsQ0FBQyxDQUFDLE1BQU0sQ0FBQztZQUNqQixLQUFLLEVBQUU7Z0JBQ0gsT0FBTyxPQUFPO29CQUNWLENBQUMsQ0FBQyxXQUFXO29CQUNiLENBQUMsQ0FBQyxNQUFNLENBQUM7WUFDakIsS0FBSyxFQUFFO2dCQUNILE9BQU8sT0FBTztvQkFDVixDQUFDLENBQUMsV0FBVztvQkFDYixDQUFDLENBQUMsTUFBTSxDQUFDO1lBQ2pCLEtBQUssRUFBRTtnQkFDSCxPQUFPLE9BQU87b0JBQ1YsQ0FBQyxDQUFDLGFBQWE7b0JBQ2YsQ0FBQyxDQUFDLE1BQU0sQ0FBQztZQUNqQixLQUFLLEVBQUU7Z0JBQ0gsT0FBTyxPQUFPO29CQUNWLENBQUMsQ0FBQyxZQUFZO29CQUNkLENBQUMsQ0FBQyxNQUFNLENBQUM7WUFDakIsS0FBSyxFQUFFO2dCQUNILE9BQU8sT0FBTztvQkFDVixDQUFDLENBQUMsV0FBVztvQkFDYixDQUFDLENBQUMsTUFBTSxDQUFDO1lBQ2pCO2dCQUNJLE1BQU0sUUFBUSxHQUFHLE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQztnQkFDcEMsTUFBTSxRQUFRLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNwQyxJQUFJLE1BQU0sQ0FBQztnQkFDWCxRQUFTLFFBQVEsRUFBRztvQkFDaEIsS0FBSyxHQUFHO3dCQUNKLE1BQU0sR0FBRyxJQUFJLENBQUM7d0JBQ2QsTUFBTTtvQkFDVixLQUFLLEdBQUc7d0JBQ0osTUFBTSxHQUFHLElBQUksQ0FBQzt3QkFDZCxNQUFNO29CQUNWLEtBQUssR0FBRzt3QkFDSixNQUFNLEdBQUcsSUFBSSxDQUFDO3dCQUNkLE1BQU07b0JBQ1Y7d0JBQ0ksTUFBTSxHQUFHLElBQUksQ0FBQzt3QkFDZCxNQUFNO2lCQUNiO2dCQUNELE9BQU8sR0FBRyxPQUFPLEdBQUcsTUFBTSxFQUFFLENBQUM7U0FDcEM7SUFFTCxDQUFDO0NBQ0osQ0FBQyxDQUFDO0FBRUgsTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLE9BQU8sRUFBRTtJQUMzQyxVQUFVLEVBQUcsS0FBSyxFQUFFLEtBQUs7UUFDckIsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQzFCLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekIsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUM1QixDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3pCLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUM3QixNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQy9ELE9BQU8sR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztJQUNqQyxDQUFDO0NBQ0osQ0FBQyxDQUFDO0FBT0gsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhpcyBmaWxlIGlzIHJlcXVpcmVkIGJ5IHRoZSBpbmRleC5odG1sIGZpbGUgYW5kIHdpbGxcbi8vIGJlIGV4ZWN1dGVkIGluIHRoZSByZW5kZXJlciBwcm9jZXNzIGZvciB0aGF0IHdpbmRvdy5cbi8vIE5vIE5vZGUuanMgQVBJcyBhcmUgYXZhaWxhYmxlIGluIHRoaXMgcHJvY2VzcyBiZWNhdXNlXG4vLyBgbm9kZUludGVncmF0aW9uYCBpcyB0dXJuZWQgb2ZmLiBVc2UgYHByZWxvYWQuanNgIHRvXG4vLyBzZWxlY3RpdmVseSBlbmFibGUgZmVhdHVyZXMgbmVlZGVkIGluIHRoZSByZW5kZXJpbmdcbi8vIHByb2Nlc3MuXG5cblxuY29uc29sZS5ncm91cChgcmVuZGVyZXIudHNgKTtcblxuY29uc3QgeyByZW1vdGUgfSA9IHJlcXVpcmUoJ2VsZWN0cm9uJyk7XG5jb25zdCBhcmd2YXJzID0gcmVtb3RlLnByb2Nlc3MuYXJndi5zbGljZSgyKS5tYXAocyA9PiBzLnRvTG93ZXJDYXNlKCkpO1xuY29uc3QgREVCVUcgPSBhcmd2YXJzLmluY2x1ZGVzKCdkZWJ1ZycpO1xuY29uc3QgRFJZUlVOID0gYXJndmFycy5pbmNsdWRlcygnZHJ5LXJ1bicpO1xuY29uc3QgTk9QWVRIT04gPSBhcmd2YXJzLmluY2x1ZGVzKCduby1weXRob24nKTtcbi8vIEB0cy1pZ25vcmVcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG4vLyBjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5sZXQgUk9PVF9QQVRIX0FCUzogc3RyaW5nO1xubGV0IFNSQ19QQVRIX0FCUzogc3RyaW5nO1xuaWYgKCBwYXRoLmJhc2VuYW1lKF9fZGlybmFtZSkgPT09ICdzcmMnICkge1xuICAgIFJPT1RfUEFUSF9BQlMgPSBwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4nKTtcbiAgICBTUkNfUEFUSF9BQlMgPSBfX2Rpcm5hbWU7XG59IGVsc2Uge1xuICAgIFJPT1RfUEFUSF9BQlMgPSBfX2Rpcm5hbWU7XG4gICAgU1JDX1BBVEhfQUJTID0gcGF0aC5qb2luKFJPT1RfUEFUSF9BQlMsICdzcmMnKTtcbn1cbi8vIC9zcmMvdGVtcGxhdGVzXG4vLyBjb25zdCBURU1QTEFURVNfUEFUSF9BQlMgPSBwYXRoLmpvaW4oUk9PVF9QQVRIX0FCUywgJ3RlbXBsYXRlcycpO1xuLy8gL3NyYy9TYWxhbWFuZGVyXG5jb25zdCBTQUxBTUFOREVSX1BBVEhfQUJTID0gcGF0aC5qb2luKFNSQ19QQVRIX0FCUywgJ1NhbGFtYW5kZXInKTtcblxuLy8gL3NyYy9leHBlcmltZW50c1xuY29uc3QgRVhQRVJJTUVOVFNfUEFUSF9BQlMgPSBwYXRoLmpvaW4oU1JDX1BBVEhfQUJTLCAnZXhwZXJpbWVudHMnKTtcbi8vIC9zcmMvZXhwZXJpbWVudHMvdHJ1dGhzXG5jb25zdCBUUlVUSFNfUEFUSF9BQlMgPSBwYXRoLmpvaW4oRVhQRVJJTUVOVFNfUEFUSF9BQlMsICd0cnV0aHMnKTtcbi8vIC9zcmMvZXhwZXJpbWVudHMvY29uZmlnc1xuY29uc3QgQ09ORklHU19QQVRIX0FCUyA9IHBhdGguam9pbihFWFBFUklNRU5UU19QQVRIX0FCUywgJ2NvbmZpZ3MnKTtcbi8vIC9zcmMvZXhwZXJpbWVudHMvc3ViamVjdHNcbmNvbnN0IFNVQkpFQ1RTX1BBVEhfQUJTID0gcGF0aC5qb2luKEVYUEVSSU1FTlRTX1BBVEhfQUJTLCAnc3ViamVjdHMnKTtcbmNvbnN0IHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcbnJlbW90ZS5nZXRDdXJyZW50V2luZG93KCkub24oXCJmb2N1c1wiLCAoKSA9PiB7XG4gICAgXG4gICAgcmVtb3RlLmdsb2JhbFNob3J0Y3V0LnJlZ2lzdGVyKCdDb21tYW5kT3JDb250cm9sK1knLCAoKSA9PiByZW1vdGUuZ2V0Q3VycmVudFdpbmRvdygpLndlYkNvbnRlbnRzLm9wZW5EZXZUb29scygpKTtcbiAgICByZW1vdGUuZ2xvYmFsU2hvcnRjdXQucmVnaXN0ZXIoJ0NvbW1hbmRPckNvbnRyb2wrUScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgTXlBbGVydCA9IHJlcXVpcmUoJy4vTXlBbGVydCcpLmRlZmF1bHQ7XG4gICAgICAgIGNvbnNvbGUubG9nKCdjdHJsK3EnLCBNeUFsZXJ0KTtcbiAgICAgICAgY29uc3QgYWN0aW9uID0gYXdhaXQgTXlBbGVydC5iaWcudHdvQnV0dG9ucygnUmVzZXQgZmluaXNoZWQgdHJpYWxzIGNvdW50IGFuZCBiYWNrIHRvIE5ldyBwYWdlPycpO1xuICAgICAgICBpZiAoIGFjdGlvbiA9PT0gXCJjYW5jZWxcIiApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXF1aXJlKCcuL0dsb2InKS5kZWZhdWx0LkJpZ0NvbmZpZy5sYXN0X3BhZ2UgPSAnbmV3JztcbiAgICAgICAgcmVtb3RlLmdldEN1cnJlbnRXaW5kb3coKS5yZWxvYWQoKTtcbiAgICB9KTtcbn0pO1xucmVtb3RlLmdldEN1cnJlbnRXaW5kb3coKS5vbignYmx1cicsICgpID0+IHJlbW90ZS5nbG9iYWxTaG9ydGN1dC51bnJlZ2lzdGVyQWxsKCkpO1xuXG5cbi8qcHJvY2Vzcy5lbnYuUk9PVF9QQVRIX0FCUyA9IFJPT1RfUEFUSF9BQlM7XG4gcHJvY2Vzcy5lbnYuU1JDX1BBVEhfQUJTID0gU1JDX1BBVEhfQUJTO1xuIFxuIHByb2Nlc3MuZW52LlRFTVBMQVRFU19QQVRIX0FCUyA9IFRFTVBMQVRFU19QQVRIX0FCUztcbiBwcm9jZXNzLmVudi5TQUxBTUFOREVSX1BBVEhfQUJTID0gU0FMQU1BTkRFUl9QQVRIX0FCUztcbiBcbiBwcm9jZXNzLmVudi5FWFBFUklNRU5UU19QQVRIX0FCUyA9IEVYUEVSSU1FTlRTX1BBVEhfQUJTO1xuIHByb2Nlc3MuZW52LlRSVVRIU19QQVRIX0FCUyA9IFRSVVRIU19QQVRIX0FCUztcbiBwcm9jZXNzLmVudi5DT05GSUdTX1BBVEhfQUJTID0gQ09ORklHU19QQVRIX0FCUztcbiBwcm9jZXNzLmVudi5TVUJKRUNUU19QQVRIX0FCUyA9IFNVQkpFQ1RTX1BBVEhfQUJTOyovXG5pbnRlcmZhY2UgU3RyaW5nIHtcbiAgICBlbmRzV2l0aEFueSguLi5hcmdzOiBzdHJpbmdbXSk6IGJvb2xlYW5cbiAgICBcbiAgICBodW1hbigpOiBzdHJpbmdcbiAgICBcbiAgICBpc2RpZ2l0KCk6IGJvb2xlYW5cbiAgICBcbiAgICBsb3dlcigpOiBzdHJpbmdcbiAgICBcbiAgICB1cHBlcigpOiBzdHJpbmdcbiAgICBcbiAgICByZW1vdmVBbGwocmVtb3ZlVmFsdWU6IHN0cmluZyB8IG51bWJlciB8IFJlZ0V4cCB8IFRNYXA8c3RyaW5nPiwgLi4ucmVtb3ZlVmFsdWVzOiBBcnJheTxzdHJpbmcgfCBudW1iZXIgfCBSZWdFeHAgfCBUTWFwPHN0cmluZz4+KTogc3RyaW5nXG4gICAgXG4gICAgcmVwbGFjZUFsbChzZWFyY2hWYWx1ZTogVE1hcDxzdHJpbmc+KTogc3RyaW5nXG4gICAgXG4gICAgcmVwbGFjZUFsbChzZWFyY2hWYWx1ZTogc3RyaW5nIHwgbnVtYmVyIHwgUmVnRXhwLCByZXBsYWNlVmFsdWU6IHN0cmluZyk6IHN0cmluZ1xuICAgIFxuICAgIHRpdGxlKCk6IHN0cmluZ1xuICAgIFxuICAgIHVwVG8oc2VhcmNoU3RyaW5nOiBzdHJpbmcsIHNlYXJjaEZyb21FbmQ/OiBib29sZWFuKTogc3RyaW5nXG59XG5cbmludGVyZmFjZSBBcnJheTxUPiB7XG4gICAgX2xvd2VyQWxsOiBUW107XG4gICAgXG4gICAgLyoqQWxzbyBjYWNoZXMgX2xvd2VyQWxsKi9cbiAgICBsb3dlckFsbCgpOiBUW11cbiAgICBcbiAgICBjb3VudChpdGVtOiBUKTogbnVtYmVyXG4gICAgXG4gICAgY291bnQoaXRlbTogRnVuY3Rpb25SZXR1cm5zPGJvb2xlYW4+KTogbnVtYmVyXG4gICAgXG4gICAgbGF6eShmbjogVEZ1bmN0aW9uPFQsIFQ+KTogVFtdXG59XG5cbi8vICoqICBQeXRob25TaGVsbFxuXG5cbmNvbnNvbGUudGFibGUoe1xuICAgIF9fZGlybmFtZSxcbiAgICBST09UX1BBVEhfQUJTLFxuICAgIFNSQ19QQVRIX0FCUyxcbiAgICBURU1QTEFURVNfUEFUSF9BQlMsXG4gICAgU0FMQU1BTkRFUl9QQVRIX0FCUyxcbiAgICBFWFBFUklNRU5UU19QQVRIX0FCUyxcbiAgICBUUlVUSFNfUEFUSF9BQlMsXG4gICAgQ09ORklHU19QQVRIX0FCUyxcbiAgICBTVUJKRUNUU19QQVRIX0FCUyxcbiAgICBERUJVRywgRFJZUlVOLCBOT1BZVEhPTlxufSk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShPYmplY3QucHJvdG90eXBlLCBcImtleXNcIiwge1xuICAgIGVudW1lcmFibGUgOiBmYWxzZSxcbiAgICB2YWx1ZSgpOiBBcnJheTxzdHJpbmcgfCBudW1iZXI+IHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcykubWFwKGtleSA9PiBrZXkuaXNkaWdpdCgpXG4gICAgICAgICAgICA/IHBhcnNlSW50KGtleSkgOiBrZXkpO1xuICAgIH1cbn0pO1xuLy8gKiogIEFycmF5XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCBcImxhenlcIiwge1xuICAgIGVudW1lcmFibGUgOiBmYWxzZSxcbiAgICAqIHZhbHVlKGZuKSB7XG4gICAgICAgIGZvciAoIGxldCB4IGluIHRoaXMgKSB7XG4gICAgICAgICAgICB5aWVsZCBmbih4KVxuICAgICAgICB9XG4gICAgfVxufSwpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgXCJsYXN0XCIsIHtcbiAgICBlbnVtZXJhYmxlIDogZmFsc2UsXG4gICAgdmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzW3RoaXMubGVuZ3RoIC0gMV07XG4gICAgfVxufSwpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgXCJsb3dlckFsbFwiLCB7XG4gICAgZW51bWVyYWJsZSA6IGZhbHNlLFxuICAgIHZhbHVlKCkge1xuICAgICAgICBcbiAgICAgICAgaWYgKCAhdXRpbC5ib29sKHRoaXMuX2xvd2VyQWxsKSApIHtcbiAgICAgICAgICAgIHRoaXMuX2xvd2VyQWxsID0gW107XG4gICAgICAgICAgICBmb3IgKCBsZXQgeCBvZiB0aGlzICkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvd2VyQWxsLnB1c2goeC5sb3dlcigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fbG93ZXJBbGw7XG4gICAgfVxufSwpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgXCJyc29ydFwiLCB7XG4gICAgZW51bWVyYWJsZSA6IGZhbHNlLFxuICAgIHZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zb3J0KChuLCBtKSA9PiBuIDwgbSk7XG4gICAgfVxufSwpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgXCJjb3VudFwiLCB7XG4gICAgZW51bWVyYWJsZSA6IGZhbHNlLFxuICAgIHZhbHVlKGl0ZW06IGFueSk6IG51bWJlciB7XG4gICAgICAgIGxldCBfY291bnQgPSAwO1xuICAgICAgICBcbiAgICAgICAgaWYgKCB1dGlsLmlzRnVuY3Rpb24oaXRlbSkgKSB7XG4gICAgICAgICAgICBmb3IgKCBsZXQgeCBvZiB0aGlzICkge1xuICAgICAgICAgICAgICAgIGlmICggaXRlbSh4KSApIHtcbiAgICAgICAgICAgICAgICAgICAgX2NvdW50Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKCBsZXQgeCBvZiB0aGlzICkge1xuICAgICAgICAgICAgICAgIGlmICggeCA9PT0gaXRlbSApIHtcbiAgICAgICAgICAgICAgICAgICAgX2NvdW50Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF9jb3VudDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9XG4gICAgXG59LCk7XG4vLyAqKiAgU3RyaW5nXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmcucHJvdG90eXBlLCBcImVuZHNXaXRoQW55XCIsIHtcbiAgICBlbnVtZXJhYmxlIDogZmFsc2UsXG4gICAgdmFsdWUoLi4uYXJnczogc3RyaW5nW10pIHtcbiAgICAgICAgZm9yICggbGV0IHggb2YgYXJncyApIHtcbiAgICAgICAgICAgIGlmICggdGhpcy5lbmRzV2l0aCh4KSApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIFxuICAgIH1cbn0sKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmcucHJvdG90eXBlLCBcInVwVG9cIiwge1xuICAgIGVudW1lcmFibGUgOiBmYWxzZSxcbiAgICB2YWx1ZShzZWFyY2hTdHJpbmc6IHN0cmluZywgc2VhcmNoRnJvbUVuZCA9IGZhbHNlKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IGVuZCA9IHNlYXJjaEZyb21FbmRcbiAgICAgICAgICAgID8gdGhpcy5sYXN0SW5kZXhPZihzZWFyY2hTdHJpbmcpXG4gICAgICAgICAgICA6IHRoaXMuaW5kZXhPZihzZWFyY2hTdHJpbmcpO1xuICAgICAgICBpZiAoIGVuZCA9PT0gLTEgKVxuICAgICAgICAgICAgY29uc29sZS53YXJuKGAke3RoaXMudmFsdWVPZigpfS51cFRvKCR7c2VhcmNoU3RyaW5nfSwke3NlYXJjaEZyb21FbmR9KSBpbmRleCBpcyAtMWApO1xuICAgICAgICByZXR1cm4gdGhpcy5zbGljZSgwLCBlbmQpO1xuICAgIH1cbn0sKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmcucHJvdG90eXBlLCBcImluXCIsIHtcbiAgICBlbnVtZXJhYmxlIDogZmFsc2UsXG4gICAgdmFsdWUoYXJyOiBhbnlbXSk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gYXJyLmluY2x1ZGVzKHRoaXMudmFsdWVPZigpKTtcbiAgICB9XG59LCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyaW5nLnByb3RvdHlwZSwgXCJsb3dlclwiLCB7XG4gICAgZW51bWVyYWJsZSA6IGZhbHNlLFxuICAgIHZhbHVlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxufSwpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZy5wcm90b3R5cGUsIFwidXBwZXJcIiwge1xuICAgIGVudW1lcmFibGUgOiBmYWxzZSxcbiAgICB2YWx1ZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy50b1VwcGVyQ2FzZSgpXG4gICAgfVxufSwpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZy5wcm90b3R5cGUsIFwidGl0bGVcIiwge1xuICAgIGVudW1lcmFibGUgOiBmYWxzZSxcbiAgICB2YWx1ZSgpOiBzdHJpbmcge1xuICAgICAgICBpZiAoIHRoaXMuaW5jbHVkZXMoJyAnKSApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNwbGl0KCcgJykubWFwKHN0ciA9PiBzdHIudGl0bGUoKSkuam9pbignICcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCB0aGlzLm1hdGNoKC9bX1xcLS5dLykgKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRlbXAgPSB0aGlzLnJlcGxhY2VBbGwoL1tfXFwtLl0vLCAnICcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wLnRpdGxlKClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNbMF0udXBwZXIoKSArIHRoaXMuc2xpY2UoMSwgdGhpcy5sZW5ndGgpLmxvd2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIFxuICAgIH1cbn0sKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmcucHJvdG90eXBlLCBcImlzZGlnaXRcIiwge1xuICAgIGVudW1lcmFibGUgOiBmYWxzZSxcbiAgICB2YWx1ZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICFpc05hTihNYXRoLmZsb29yKHRoaXMpKTtcbiAgICB9XG59LCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyaW5nLnByb3RvdHlwZSwgXCJyZW1vdmVBbGxcIiwge1xuICAgIGVudW1lcmFibGUgOiBmYWxzZSxcbiAgICBcbiAgICB2YWx1ZShyZW1vdmVWYWx1ZSwgLi4ucmVtb3ZlVmFsdWVzKSB7XG4gICAgICAgIGxldCB0ZW1wID0gdGhpcztcbiAgICAgICAgZm9yICggbGV0IHZhbHVlIG9mIFsgcmVtb3ZlVmFsdWUsIC4uLnJlbW92ZVZhbHVlcyBdIClcbiAgICAgICAgICAgIHRlbXAgPSB0ZW1wLnJlcGxhY2VBbGwodmFsdWUsICcnKTtcbiAgICAgICAgcmV0dXJuIHRlbXA7XG4gICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyaW5nLnByb3RvdHlwZSwgXCJyZXBsYWNlQWxsXCIsIHtcbiAgICBlbnVtZXJhYmxlIDogZmFsc2UsXG4gICAgXG4gICAgdmFsdWUoc2VhcmNoVmFsdWU6IChzdHJpbmcgfCBudW1iZXIgfCBSZWdFeHApIHwgVE1hcDxzdHJpbmc+LCByZXBsYWNlVmFsdWU/OiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IHR5cGVvZiBzZWFyY2hWYWx1ZTtcbiAgICAgICAgaWYgKCB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlID09PSAnbnVtYmVyJyApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzXG4gICAgICAgICAgICAgICAgLnNwbGl0KHNlYXJjaFZhbHVlKVxuICAgICAgICAgICAgICAgIC5qb2luKHJlcGxhY2VWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIHR5cGUgPT09ICdvYmplY3QnICkge1xuICAgICAgICAgICAgaWYgKCAoPFJlZ0V4cD4gc2VhcmNoVmFsdWUpLmNvbXBpbGUgKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRlbXAgPSB0aGlzO1xuICAgICAgICAgICAgICAgIGxldCByZXBsYWNlZCA9IHRlbXAucmVwbGFjZShzZWFyY2hWYWx1ZSwgcmVwbGFjZVZhbHVlKTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoIHJlcGxhY2VkICE9PSB0ZW1wICkge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wID0gcmVwbGFjZWQ7XG4gICAgICAgICAgICAgICAgICAgIHJlcGxhY2VkID0gcmVwbGFjZWQucmVwbGFjZShzZWFyY2hWYWx1ZSwgcmVwbGFjZVZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2VkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IHRoaXM7XG4gICAgICAgICAgICAgICAgZm9yICggbGV0IFsgc3YsIHJ2IF0gb2YgT2JqZWN0LmVudHJpZXMoc2VhcmNoVmFsdWUpIClcbiAgICAgICAgICAgICAgICAgICAgdGVtcCA9IHRlbXAucmVwbGFjZUFsbChzdiwgcnYpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGByZXBsYWNlQWxsIGdvdCBhIGJhZCB0eXBlLCBzZWFyY2hWYWx1ZTogJHtzZWFyY2hWYWx1ZX0sIHR5cGU6ICR7dHlwZX1gKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgfVxufSk7XG4vLyAqKiAgTnVtYmVyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoTnVtYmVyLnByb3RvdHlwZSwgXCJodW1hblwiLCB7XG4gICAgZW51bWVyYWJsZSA6IGZhbHNlLFxuICAgIHZhbHVlKGxldHRlcnMgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCBmbG9vcmVkID0gTWF0aC5mbG9vcih0aGlzKTtcbiAgICAgICAgc3dpdGNoICggZmxvb3JlZCApIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbGV0dGVyc1xuICAgICAgICAgICAgICAgICAgICA/IFwiemVyb3RoXCJcbiAgICAgICAgICAgICAgICAgICAgOiBcIjB0aFwiO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHJldHVybiBsZXR0ZXJzXG4gICAgICAgICAgICAgICAgICAgID8gXCJmaXJzdFwiXG4gICAgICAgICAgICAgICAgICAgIDogXCIxc3RcIjtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gbGV0dGVyc1xuICAgICAgICAgICAgICAgICAgICA/IFwic2Vjb25kXCJcbiAgICAgICAgICAgICAgICAgICAgOiBcIjJuZFwiO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBsZXR0ZXJzXG4gICAgICAgICAgICAgICAgICAgID8gXCJ0aGlyZFwiXG4gICAgICAgICAgICAgICAgICAgIDogXCIzcmRcIjtcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbGV0dGVyc1xuICAgICAgICAgICAgICAgICAgICA/IFwiZm91cnRoXCJcbiAgICAgICAgICAgICAgICAgICAgOiBcIjR0aFwiO1xuICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIHJldHVybiBsZXR0ZXJzXG4gICAgICAgICAgICAgICAgICAgID8gXCJmaWZ0aFwiXG4gICAgICAgICAgICAgICAgICAgIDogXCI1dGhcIjtcbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICByZXR1cm4gbGV0dGVyc1xuICAgICAgICAgICAgICAgICAgICA/IFwic2l4dGhcIlxuICAgICAgICAgICAgICAgICAgICA6IFwiNnRoXCI7XG4gICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxldHRlcnNcbiAgICAgICAgICAgICAgICAgICAgPyBcInNldmVudGhcIlxuICAgICAgICAgICAgICAgICAgICA6IFwiN3RoXCI7XG4gICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxldHRlcnNcbiAgICAgICAgICAgICAgICAgICAgPyBcImVpZ2h0aFwiXG4gICAgICAgICAgICAgICAgICAgIDogXCI4dGhcIjtcbiAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICByZXR1cm4gbGV0dGVyc1xuICAgICAgICAgICAgICAgICAgICA/IFwibmludGhcIlxuICAgICAgICAgICAgICAgICAgICA6IFwiOXRoXCI7XG4gICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgIHJldHVybiBsZXR0ZXJzXG4gICAgICAgICAgICAgICAgICAgID8gXCJ0ZW50aFwiXG4gICAgICAgICAgICAgICAgICAgIDogXCIxMHRoXCI7XG4gICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgIHJldHVybiBsZXR0ZXJzXG4gICAgICAgICAgICAgICAgICAgID8gXCJlbGV2ZW50aFwiXG4gICAgICAgICAgICAgICAgICAgIDogXCIxMXRoXCI7XG4gICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgIHJldHVybiBsZXR0ZXJzXG4gICAgICAgICAgICAgICAgICAgID8gXCJ0d2VsdmV0aFwiXG4gICAgICAgICAgICAgICAgICAgIDogXCIxMnRoXCI7XG4gICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgIHJldHVybiBsZXR0ZXJzXG4gICAgICAgICAgICAgICAgICAgID8gXCJ0aGlydGVlbnRoXCJcbiAgICAgICAgICAgICAgICAgICAgOiBcIjEzdGhcIjtcbiAgICAgICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxldHRlcnNcbiAgICAgICAgICAgICAgICAgICAgPyBcImZvdXJ0ZWVudGhcIlxuICAgICAgICAgICAgICAgICAgICA6IFwiMTR0aFwiO1xuICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICByZXR1cm4gbGV0dGVyc1xuICAgICAgICAgICAgICAgICAgICA/IFwiZmlmdGVlbnRoXCJcbiAgICAgICAgICAgICAgICAgICAgOiBcIjE1dGhcIjtcbiAgICAgICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxldHRlcnNcbiAgICAgICAgICAgICAgICAgICAgPyBcInNpeHRlZW50aFwiXG4gICAgICAgICAgICAgICAgICAgIDogXCIxNnRoXCI7XG4gICAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgICAgIHJldHVybiBsZXR0ZXJzXG4gICAgICAgICAgICAgICAgICAgID8gXCJzZXZlbnRlZW50aFwiXG4gICAgICAgICAgICAgICAgICAgIDogXCIxN3RoXCI7XG4gICAgICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgICAgICAgIHJldHVybiBsZXR0ZXJzXG4gICAgICAgICAgICAgICAgICAgID8gXCJlaWdodGVlbnRoXCJcbiAgICAgICAgICAgICAgICAgICAgOiBcIjE4dGhcIjtcbiAgICAgICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxldHRlcnNcbiAgICAgICAgICAgICAgICAgICAgPyBcIm5pbnRlZW50aFwiXG4gICAgICAgICAgICAgICAgICAgIDogXCIxOXRoXCI7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGNvbnN0IHN0cmluZ2VkID0gZmxvb3JlZC50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDaGFyID0gc3RyaW5nZWQuc2xpY2UoLTEpO1xuICAgICAgICAgICAgICAgIGxldCBzdWZmaXg7XG4gICAgICAgICAgICAgICAgc3dpdGNoICggbGFzdENoYXIgKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCIxXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWZmaXggPSBcInN0XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIjJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1ZmZpeCA9IFwibmRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiM1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3VmZml4ID0gXCJyZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWZmaXggPSBcInRoXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2Zsb29yZWR9JHtzdWZmaXh9YDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9XG59KTtcbi8vICoqICBEYXRlXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRGF0ZS5wcm90b3R5cGUsIFwiaHVtYW5cIiwge1xuICAgIGVudW1lcmFibGUgOiBmYWxzZSwgdmFsdWUoKSB7XG4gICAgICAgIGxldCBkID0gdGhpcy5nZXRVVENEYXRlKCk7XG4gICAgICAgIGQgPSBkIDwgMTAgPyBgMCR7ZH1gIDogZDtcbiAgICAgICAgbGV0IG0gPSB0aGlzLmdldE1vbnRoKCkgKyAxO1xuICAgICAgICBtID0gbSA8IDEwID8gYDAke219YCA6IG07XG4gICAgICAgIGNvbnN0IHkgPSB0aGlzLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLnRvVGltZVN0cmluZygpLnNsaWNlKDAsIDgpLnJlcGxhY2VBbGwoJzonLCAnLScpO1xuICAgICAgICByZXR1cm4gYCR7ZH1fJHttfV8ke3l9XyR7dH1gO1xuICAgIH1cbn0pO1xuXG5cbi8qbW9kdWxlLmV4cG9ydHMgPSB7XG4gUHl0aG9uU2hlbGxcbiB9OyovXG5cbmNvbnNvbGUuZ3JvdXBFbmQoKTtcbiJdfQ==