console.group(`renderer.ts`);
Object.defineProperty(Object.prototype, "keys", {
    enumerable: false,
    value() {
        return Object.keys(this).map(key => key.isdigit()
            ? parseInt(key) : key);
    }
});
Object.defineProperty(Array.prototype, "lazy", {
    enumerable: false,
    *value(fn) {
        for (let x in this) {
            yield fn(x);
        }
    }
});
Object.defineProperty(Array.prototype, "last", {
    enumerable: false,
    value() {
        return this[this.length - 1];
    }
});
Object.defineProperty(Array.prototype, "lowerAll", {
    enumerable: false,
    value() {
        if (!util.bool(this._lowerAll)) {
            this._lowerAll = [];
            for (let x of this) {
                this._lowerAll.push(x.lower());
            }
        }
        return this._lowerAll;
    }
});
Object.defineProperty(Array.prototype, "rsort", {
    enumerable: false,
    value() {
        return this.sort((n, m) => n < m);
    }
});
Object.defineProperty(Array.prototype, "count", {
    enumerable: false,
    value(item) {
        let _count = 0;
        if (util.isFunction(item)) {
            for (let x of this) {
                if (item(x)) {
                    _count++;
                }
            }
        }
        else {
            for (let x of this) {
                if (x === item) {
                    _count++;
                }
            }
            return _count;
        }
    }
});
Object.defineProperty(String.prototype, "endsWithAny", {
    enumerable: false,
    value(...args) {
        for (let x of args) {
            if (this.endsWith(x)) {
                return true;
            }
        }
        return false;
    }
});
Object.defineProperty(String.prototype, "upTo", {
    enumerable: false,
    value(searchString, searchFromEnd = false) {
        let end = searchFromEnd
            ? this.lastIndexOf(searchString)
            : this.indexOf(searchString);
        if (end === -1)
            console.warn(`${this.valueOf()}.upTo(${searchString},${searchFromEnd}) index is -1`);
        return this.slice(0, end);
    }
});
Object.defineProperty(String.prototype, "in", {
    enumerable: false,
    value(arr) {
        return arr.includes(this.valueOf());
    }
});
Object.defineProperty(String.prototype, "lower", {
    enumerable: false,
    value() {
        return this.toLowerCase();
    }
});
Object.defineProperty(String.prototype, "upper", {
    enumerable: false,
    value() {
        return this.toUpperCase();
    }
});
Object.defineProperty(String.prototype, "title", {
    enumerable: false,
    value() {
        if (this.includes(' ')) {
            return this.split(' ').map(str => str.title()).join(' ');
        }
        else {
            if (this.match(/[_\-.]/)) {
                let temp = this.replaceAll(/[_\-.]/, ' ');
                return temp.title();
            }
            else {
                return this[0].upper() + this.slice(1, this.length).lower();
            }
        }
    }
});
Object.defineProperty(String.prototype, "isdigit", {
    enumerable: false,
    value() {
        return !isNaN(Math.floor(this));
    }
});
Object.defineProperty(String.prototype, "removeAll", {
    enumerable: false,
    value(removeValue, ...removeValues) {
        let temp = this;
        for (let value of [removeValue, ...removeValues])
            temp = temp.replaceAll(value, '');
        return temp;
    }
});
Object.defineProperty(String.prototype, "replaceAll", {
    enumerable: false,
    value(searchValue, replaceValue) {
        const type = typeof searchValue;
        if (type === 'string' || type === 'number') {
            return this
                .split(searchValue)
                .join(replaceValue);
        }
        else if (type === 'object') {
            if (searchValue.compile) {
                let temp = this;
                let replaced = temp.replace(searchValue, replaceValue);
                while (replaced !== temp) {
                    temp = replaced;
                    replaced = replaced.replace(searchValue, replaceValue);
                }
                return replaced;
            }
            else {
                let temp = this;
                for (let [sv, rv] of Object.entries(searchValue))
                    temp = temp.replaceAll(sv, rv);
                return temp;
            }
        }
        else {
            console.warn(`replaceAll got a bad type, searchValue: ${searchValue}, type: ${type}`);
            return this;
        }
    }
});
Object.defineProperty(Number.prototype, "human", {
    enumerable: false,
    value(letters = false) {
        const floored = Math.floor(this);
        switch (floored) {
            case 0:
                return letters
                    ? "zeroth"
                    : "0th";
            case 1:
                return letters
                    ? "first"
                    : "1st";
            case 2:
                return letters
                    ? "second"
                    : "2nd";
            case 3:
                return letters
                    ? "third"
                    : "3rd";
            case 4:
                return letters
                    ? "fourth"
                    : "4th";
            case 5:
                return letters
                    ? "fifth"
                    : "5th";
            case 6:
                return letters
                    ? "sixth"
                    : "6th";
            case 7:
                return letters
                    ? "seventh"
                    : "7th";
            case 8:
                return letters
                    ? "eighth"
                    : "8th";
            case 9:
                return letters
                    ? "ninth"
                    : "9th";
            case 10:
                return letters
                    ? "tenth"
                    : "10th";
            case 11:
                return letters
                    ? "eleventh"
                    : "11th";
            case 12:
                return letters
                    ? "twelveth"
                    : "12th";
            case 13:
                return letters
                    ? "thirteenth"
                    : "13th";
            case 14:
                return letters
                    ? "fourteenth"
                    : "14th";
            case 15:
                return letters
                    ? "fifteenth"
                    : "15th";
            case 16:
                return letters
                    ? "sixteenth"
                    : "16th";
            case 17:
                return letters
                    ? "seventeenth"
                    : "17th";
            case 18:
                return letters
                    ? "eighteenth"
                    : "18th";
            case 19:
                return letters
                    ? "ninteenth"
                    : "19th";
            default:
                const stringed = floored.toString();
                const lastChar = stringed.slice(-1);
                let suffix;
                switch (lastChar) {
                    case "1":
                        suffix = "st";
                        break;
                    case "2":
                        suffix = "nd";
                        break;
                    case "3":
                        suffix = "rd";
                        break;
                    default:
                        suffix = "th";
                        break;
                }
                return `${floored}${suffix}`;
        }
    }
});
Object.defineProperty(Date.prototype, "human", {
    enumerable: false, value() {
        let d = this.getUTCDate();
        d = d < 10 ? `0${d}` : d;
        let m = this.getMonth() + 1;
        m = m < 10 ? `0${m}` : m;
        const y = this.getFullYear();
        const t = this.toTimeString().slice(0, 8).replaceAll(':', '-');
        return `${d}_${m}_${y}_${t}`;
    }
});
Object.defineProperty(Error.prototype, "toObj", {
    enumerable: false, value() {
        const where = this.stack.slice(this.stack.search(/(?<=\s)at/), this.stack.search(/(?<=at\s.*)\n/));
        const what = this.message;
        Error.captureStackTrace(this);
        const cleanstack = this.stack.split('\n')
            .filter(s => s.includes(ROOT_PATH_ABS) && !s.includes('node_modules'))
            .map(s => {
            s = s.trim();
            let frame = s.slice(s.search(ROOT_PATH_ABS), s.length - 1);
            let [file, lineno, ...rest] = frame.split(':');
            file = path.relative(ROOT_PATH_ABS, file);
            return { file, lineno };
        });
        return { what, where, cleanstack };
    }
});
const { remote } = require('electron');
const argvars = remote.process.argv.slice(2).map(s => s.toLowerCase());
const DEBUG = argvars.includes('debug');
const DRYRUN = argvars.includes('dry-run');
const NOPYTHON = argvars.includes('no-python');
const LOG = argvars.includes('log');
const path = require('path');
const fs = require('fs');
let ROOT_PATH_ABS;
let SRC_PATH_ABS;
if (path.basename(__dirname) === 'src') {
    ROOT_PATH_ABS = path.join(__dirname, '..');
    SRC_PATH_ABS = __dirname;
}
else {
    ROOT_PATH_ABS = __dirname;
    SRC_PATH_ABS = path.join(ROOT_PATH_ABS, 'src');
}
const util = require('./util');
const { default: myfs } = require('./MyFs');
const ERRORS_PATH_ABS = path.join(ROOT_PATH_ABS, 'errors');
myfs.createIfNotExists(ERRORS_PATH_ABS);
const SALAMANDER_PATH_ABS = path.join(SRC_PATH_ABS.slice(1), 'Salamander/');
const EXPERIMENTS_PATH_ABS = path.join(SRC_PATH_ABS, 'experiments');
myfs.createIfNotExists(EXPERIMENTS_PATH_ABS);
const SESSION_PATH_ABS = path.join(ERRORS_PATH_ABS, `session__${new Date().human()}`);
if (LOG) {
    myfs.createIfNotExists(SESSION_PATH_ABS);
}
const TRUTHS_PATH_ABS = path.join(EXPERIMENTS_PATH_ABS, 'truths');
myfs.createIfNotExists(TRUTHS_PATH_ABS);
const CONFIGS_PATH_ABS = path.join(EXPERIMENTS_PATH_ABS, 'configs');
myfs.createIfNotExists(CONFIGS_PATH_ABS);
const SUBJECTS_PATH_ABS = path.join(EXPERIMENTS_PATH_ABS, 'subjects');
myfs.createIfNotExists(SUBJECTS_PATH_ABS);
const currentWindow = remote.getCurrentWindow();
currentWindow.on("focus", () => {
    remote.globalShortcut.register('CommandOrControl+Y', () => remote.getCurrentWindow().webContents.openDevTools());
    remote.globalShortcut.register('CommandOrControl+Q', async () => {
        const { default: MyAlert } = require('./MyAlert');
        const action = await MyAlert.big.twoButtons('Reset finished trials count and back to New page?');
        if (action === "cancel") {
            return;
        }
        require('./Glob').default.BigConfig.last_page = 'new';
        remote.getCurrentWindow().reload();
    });
});
currentWindow.on('blur', () => remote.globalShortcut.unregisterAll());
if (LOG) {
    const { default: log } = require('electron-log');
    log[1] = log.log;
    log[2] = log.warn;
    log[3] = log.error;
    log.transports.file.file = path.join(SESSION_PATH_ABS, 'log.log');
    currentWindow.webContents.on("console-message", (event, level, message, line, sourceId) => {
        if (message.includes('console.group')) {
            return;
        }
        level = { 1: 'LOG', 2: 'WARN', 3: 'ERROR' }[level];
        sourceId = path.relative(ROOT_PATH_ABS, sourceId);
        log.transports.file({
            data: [`${sourceId}:${line}`, message],
            level,
        });
    });
}
console.table({
    __dirname,
    ROOT_PATH_ABS,
    SRC_PATH_ABS,
    ERRORS_PATH_ABS,
    SESSION_PATH_ABS,
    SALAMANDER_PATH_ABS,
    EXPERIMENTS_PATH_ABS,
    TRUTHS_PATH_ABS,
    CONFIGS_PATH_ABS,
    SUBJECTS_PATH_ABS,
    DEBUG, DRYRUN, NOPYTHON, LOG
});
console.groupEnd();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVuZGVyZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJyZW5kZXJlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFRQSxPQUFPLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBa0Q3QixNQUFNLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsTUFBTSxFQUFFO0lBQzVDLFVBQVUsRUFBRyxLQUFLO0lBQ2xCLEtBQUs7UUFFRCxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRTtZQUM3QyxDQUFDLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMvQixDQUFDO0NBQ0osQ0FBQyxDQUFDO0FBRUgsTUFBTSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLE1BQU0sRUFBRTtJQUMzQyxVQUFVLEVBQUcsS0FBSztJQUNsQixDQUFFLEtBQUssQ0FBQyxFQUFFO1FBQ04sS0FBTSxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUc7WUFDbEIsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUE7U0FDZDtJQUNMLENBQUM7Q0FDSixDQUFFLENBQUM7QUFDSixNQUFNLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsTUFBTSxFQUFFO0lBQzNDLFVBQVUsRUFBRyxLQUFLO0lBQ2xCLEtBQUs7UUFDRCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ2pDLENBQUM7Q0FDSixDQUFFLENBQUM7QUFDSixNQUFNLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsVUFBVSxFQUFFO0lBQy9DLFVBQVUsRUFBRyxLQUFLO0lBQ2xCLEtBQUs7UUFFRCxJQUFLLENBQUMsSUFBSSxDQUFDLElB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QUFHLEtBQUssRUFBRSxDQUFDLEVBQUcsTUFBTSxFQUFFLENBQUMsRUFBRyxPQUFPLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN0RCxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxhQUFhLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDbEQsR0FBRyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUM7WUFDaEIsSUFBSSxFQUFHLENBQUUsR0FBRyxRQUFRLElBQUksSUFBSSxFQUFFLEVBQUUsT0FBTyxDQUFFO1lBQ3pDLEtBQUs7U0FFUixDQUFDLENBQUE7SUFFTixDQUFDLENBQUMsQ0FBQztDQUNOO0FBR0QsT0FBTyxDQUFDLEtBQUssQ0FBQztJQUNWLFNBQVM7SUFDVCxhQUFhO0lBQ2IsWUFBWTtJQUNaLGVBQWU7SUFDZixnQkFBZ0I7SUFDaEIsbUJBQW1CO0lBQ25CLG9CQUFvQjtJQUNwQixlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLGlCQUFpQjtJQUNqQixLQUFLLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxHQUFHO0NBQy9CLENBQUMsQ0FBQztBQUdILE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFRoaXMgZmlsZSBpcyByZXF1aXJlZCBieSB0aGUgaW5kZXguaHRtbCBmaWxlIGFuZCB3aWxsXG4vLyBiZSBleGVjdXRlZCBpbiB0aGUgcmVuZGVyZXIgcHJvY2VzcyBmb3IgdGhhdCB3aW5kb3cuXG4vLyBObyBOb2RlLmpzIEFQSXMgYXJlIGF2YWlsYWJsZSBpbiB0aGlzIHByb2Nlc3MgYmVjYXVzZVxuLy8gYG5vZGVJbnRlZ3JhdGlvbmAgaXMgdHVybmVkIG9mZi4gVXNlIGBwcmVsb2FkLmpzYCB0b1xuLy8gc2VsZWN0aXZlbHkgZW5hYmxlIGZlYXR1cmVzIG5lZWRlZCBpbiB0aGUgcmVuZGVyaW5nXG4vLyBwcm9jZXNzLlxuXG5cbmNvbnNvbGUuZ3JvdXAoYHJlbmRlcmVyLnRzYCk7XG5cbmludGVyZmFjZSBTdHJpbmcge1xuICAgIGVuZHNXaXRoQW55KC4uLmFyZ3M6IHN0cmluZ1tdKTogYm9vbGVhblxuICAgIFxuICAgIGh1bWFuKCk6IHN0cmluZ1xuICAgIFxuICAgIGlzZGlnaXQoKTogYm9vbGVhblxuICAgIFxuICAgIGxvd2VyKCk6IHN0cmluZ1xuICAgIFxuICAgIHVwcGVyKCk6IHN0cmluZ1xuICAgIFxuICAgIHJlbW92ZUFsbChyZW1vdmVWYWx1ZTogc3RyaW5nIHwgbnVtYmVyIHwgUmVnRXhwIHwgVE1hcDxzdHJpbmc+LCAuLi5yZW1vdmVWYWx1ZXM6IEFycmF5PHN0cmluZyB8IG51bWJlciB8IFJlZ0V4cCB8IFRNYXA8c3RyaW5nPj4pOiBzdHJpbmdcbiAgICBcbiAgICByZXBsYWNlQWxsKHNlYXJjaFZhbHVlOiBUTWFwPHN0cmluZz4pOiBzdHJpbmdcbiAgICBcbiAgICByZXBsYWNlQWxsKHNlYXJjaFZhbHVlOiBzdHJpbmcgfCBudW1iZXIgfCBSZWdFeHAsIHJlcGxhY2VWYWx1ZTogc3RyaW5nKTogc3RyaW5nXG4gICAgXG4gICAgdGl0bGUoKTogc3RyaW5nXG4gICAgXG4gICAgdXBUbyhzZWFyY2hTdHJpbmc6IHN0cmluZywgc2VhcmNoRnJvbUVuZD86IGJvb2xlYW4pOiBzdHJpbmdcbn1cblxuaW50ZXJmYWNlIEFycmF5PFQ+IHtcbiAgICBfbG93ZXJBbGw6IFRbXTtcbiAgICBcbiAgICAvKipBbHNvIGNhY2hlcyBfbG93ZXJBbGwqL1xuICAgIGxvd2VyQWxsKCk6IFRbXVxuICAgIFxuICAgIGNvdW50KGl0ZW06IFQpOiBudW1iZXJcbiAgICBcbiAgICBjb3VudChpdGVtOiBGdW5jdGlvblJldHVybnM8Ym9vbGVhbj4pOiBudW1iZXJcbiAgICBcbiAgICBsYXp5KGZuOiBURnVuY3Rpb248VCwgVD4pOiBUW11cbn1cblxuaW50ZXJmYWNlIE51bWJlciB7XG4gICAgaHVtYW4obGV0dGVycz86IGJvb2xlYW4pOiBzdHJpbmdcbn1cblxuaW50ZXJmYWNlIEVycm9yIHtcbiAgICB0b09iaigpOiB7IHdoYXQ6IHN0cmluZywgd2hlcmU6IHN0cmluZywgY2xlYW5zdGFjazogeyBmaWxlOiBzdHJpbmcsIGxpbmVubzogc3RyaW5nIH1bXSB9XG59XG5cbmludGVyZmFjZSBEYXRlIHtcbiAgICBodW1hbigpOiBzdHJpbmdcbn1cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoT2JqZWN0LnByb3RvdHlwZSwgXCJrZXlzXCIsIHtcbiAgICBlbnVtZXJhYmxlIDogZmFsc2UsXG4gICAgdmFsdWUoKTogQXJyYXk8c3RyaW5nIHwgbnVtYmVyPiB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMpLm1hcChrZXkgPT4ga2V5LmlzZGlnaXQoKVxuICAgICAgICAgICAgPyBwYXJzZUludChrZXkpIDoga2V5KTtcbiAgICB9XG59KTtcbi8vICoqICBBcnJheVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgXCJsYXp5XCIsIHtcbiAgICBlbnVtZXJhYmxlIDogZmFsc2UsXG4gICAgKiB2YWx1ZShmbikge1xuICAgICAgICBmb3IgKCBsZXQgeCBpbiB0aGlzICkge1xuICAgICAgICAgICAgeWllbGQgZm4oeClcbiAgICAgICAgfVxuICAgIH1cbn0sKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsIFwibGFzdFwiLCB7XG4gICAgZW51bWVyYWJsZSA6IGZhbHNlLFxuICAgIHZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpc1t0aGlzLmxlbmd0aCAtIDFdO1xuICAgIH1cbn0sKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsIFwibG93ZXJBbGxcIiwge1xuICAgIGVudW1lcmFibGUgOiBmYWxzZSxcbiAgICB2YWx1ZSgpIHtcbiAgICAgICAgXG4gICAgICAgIGlmICggIXV0aWwuYm9vbCh0aGlzLl9sb3dlckFsbCkgKSB7XG4gICAgICAgICAgICB0aGlzLl9sb3dlckFsbCA9IFtdO1xuICAgICAgICAgICAgZm9yICggbGV0IHggb2YgdGhpcyApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb3dlckFsbC5wdXNoKHgubG93ZXIoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvd2VyQWxsO1xuICAgIH1cbn0sKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsIFwicnNvcnRcIiwge1xuICAgIGVudW1lcmFibGUgOiBmYWxzZSxcbiAgICB2YWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc29ydCgobiwgbSkgPT4gbiA8IG0pO1xuICAgIH1cbn0sKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsIFwiY291bnRcIiwge1xuICAgIGVudW1lcmFibGUgOiBmYWxzZSxcbiAgICB2YWx1ZShpdGVtOiBhbnkpOiBudW1iZXIge1xuICAgICAgICBsZXQgX2NvdW50ID0gMDtcbiAgICAgICAgXG4gICAgICAgIGlmICggdXRpbC5pc0Z1bmN0aW9uKGl0ZW0pICkge1xuICAgICAgICAgICAgZm9yICggbGV0IHggb2YgdGhpcyApIHtcbiAgICAgICAgICAgICAgICBpZiAoIGl0ZW0oeCkgKSB7XG4gICAgICAgICAgICAgICAgICAgIF9jb3VudCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yICggbGV0IHggb2YgdGhpcyApIHtcbiAgICAgICAgICAgICAgICBpZiAoIHggPT09IGl0ZW0gKSB7XG4gICAgICAgICAgICAgICAgICAgIF9jb3VudCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfY291bnQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxuICAgIFxufSwpO1xuLy8gKiogIFN0cmluZ1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyaW5nLnByb3RvdHlwZSwgXCJlbmRzV2l0aEFueVwiLCB7XG4gICAgZW51bWVyYWJsZSA6IGZhbHNlLFxuICAgIHZhbHVlKC4uLmFyZ3M6IHN0cmluZ1tdKSB7XG4gICAgICAgIGZvciAoIGxldCB4IG9mIGFyZ3MgKSB7XG4gICAgICAgICAgICBpZiAoIHRoaXMuZW5kc1dpdGgoeCkgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBcbiAgICB9XG59LCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyaW5nLnByb3RvdHlwZSwgXCJ1cFRvXCIsIHtcbiAgICBlbnVtZXJhYmxlIDogZmFsc2UsXG4gICAgdmFsdWUoc2VhcmNoU3RyaW5nOiBzdHJpbmcsIHNlYXJjaEZyb21FbmQgPSBmYWxzZSk6IHN0cmluZyB7XG4gICAgICAgIGxldCBlbmQgPSBzZWFyY2hGcm9tRW5kXG4gICAgICAgICAgICA/IHRoaXMubGFzdEluZGV4T2Yoc2VhcmNoU3RyaW5nKVxuICAgICAgICAgICAgOiB0aGlzLmluZGV4T2Yoc2VhcmNoU3RyaW5nKTtcbiAgICAgICAgaWYgKCBlbmQgPT09IC0xIClcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgJHt0aGlzLnZhbHVlT2YoKX0udXBUbygke3NlYXJjaFN0cmluZ30sJHtzZWFyY2hGcm9tRW5kfSkgaW5kZXggaXMgLTFgKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2xpY2UoMCwgZW5kKTtcbiAgICB9XG59LCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyaW5nLnByb3RvdHlwZSwgXCJpblwiLCB7XG4gICAgZW51bWVyYWJsZSA6IGZhbHNlLFxuICAgIHZhbHVlKGFycjogYW55W10pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGFyci5pbmNsdWRlcyh0aGlzLnZhbHVlT2YoKSk7XG4gICAgfVxufSwpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZy5wcm90b3R5cGUsIFwibG93ZXJcIiwge1xuICAgIGVudW1lcmFibGUgOiBmYWxzZSxcbiAgICB2YWx1ZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbn0sKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmcucHJvdG90eXBlLCBcInVwcGVyXCIsIHtcbiAgICBlbnVtZXJhYmxlIDogZmFsc2UsXG4gICAgdmFsdWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9VcHBlckNhc2UoKVxuICAgIH1cbn0sKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmcucHJvdG90eXBlLCBcInRpdGxlXCIsIHtcbiAgICBlbnVtZXJhYmxlIDogZmFsc2UsXG4gICAgdmFsdWUoKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKCB0aGlzLmluY2x1ZGVzKCcgJykgKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zcGxpdCgnICcpLm1hcChzdHIgPT4gc3RyLnRpdGxlKCkpLmpvaW4oJyAnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICggdGhpcy5tYXRjaCgvW19cXC0uXS8pICkge1xuICAgICAgICAgICAgICAgIGxldCB0ZW1wID0gdGhpcy5yZXBsYWNlQWxsKC9bX1xcLS5dLywgJyAnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGVtcC50aXRsZSgpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzWzBdLnVwcGVyKCkgKyB0aGlzLnNsaWNlKDEsIHRoaXMubGVuZ3RoKS5sb3dlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBcbiAgICB9XG59LCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyaW5nLnByb3RvdHlwZSwgXCJpc2RpZ2l0XCIsIHtcbiAgICBlbnVtZXJhYmxlIDogZmFsc2UsXG4gICAgdmFsdWUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhaXNOYU4oTWF0aC5mbG9vcih0aGlzKSk7XG4gICAgfVxufSwpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZy5wcm90b3R5cGUsIFwicmVtb3ZlQWxsXCIsIHtcbiAgICBlbnVtZXJhYmxlIDogZmFsc2UsXG4gICAgXG4gICAgdmFsdWUocmVtb3ZlVmFsdWUsIC4uLnJlbW92ZVZhbHVlcykge1xuICAgICAgICBsZXQgdGVtcCA9IHRoaXM7XG4gICAgICAgIGZvciAoIGxldCB2YWx1ZSBvZiBbIHJlbW92ZVZhbHVlLCAuLi5yZW1vdmVWYWx1ZXMgXSApXG4gICAgICAgICAgICB0ZW1wID0gdGVtcC5yZXBsYWNlQWxsKHZhbHVlLCAnJyk7XG4gICAgICAgIHJldHVybiB0ZW1wO1xuICAgIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZy5wcm90b3R5cGUsIFwicmVwbGFjZUFsbFwiLCB7XG4gICAgZW51bWVyYWJsZSA6IGZhbHNlLFxuICAgIFxuICAgIHZhbHVlKHNlYXJjaFZhbHVlOiAoc3RyaW5nIHwgbnVtYmVyIHwgUmVnRXhwKSB8IFRNYXA8c3RyaW5nPiwgcmVwbGFjZVZhbHVlPzogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSB0eXBlb2Ygc2VhcmNoVmFsdWU7XG4gICAgICAgIGlmICggdHlwZSA9PT0gJ3N0cmluZycgfHwgdHlwZSA9PT0gJ251bWJlcicgKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1xuICAgICAgICAgICAgICAgIC5zcGxpdChzZWFyY2hWYWx1ZSlcbiAgICAgICAgICAgICAgICAuam9pbihyZXBsYWNlVmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKCB0eXBlID09PSAnb2JqZWN0JyApIHtcbiAgICAgICAgICAgIGlmICggKDxSZWdFeHA+IHNlYXJjaFZhbHVlKS5jb21waWxlICkge1xuICAgICAgICAgICAgICAgIGxldCB0ZW1wID0gdGhpcztcbiAgICAgICAgICAgICAgICBsZXQgcmVwbGFjZWQgPSB0ZW1wLnJlcGxhY2Uoc2VhcmNoVmFsdWUsIHJlcGxhY2VWYWx1ZSk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKCByZXBsYWNlZCAhPT0gdGVtcCApIHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcCA9IHJlcGxhY2VkO1xuICAgICAgICAgICAgICAgICAgICByZXBsYWNlZCA9IHJlcGxhY2VkLnJlcGxhY2Uoc2VhcmNoVmFsdWUsIHJlcGxhY2VWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXBsYWNlZDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHRlbXAgPSB0aGlzO1xuICAgICAgICAgICAgICAgIGZvciAoIGxldCBbIHN2LCBydiBdIG9mIE9iamVjdC5lbnRyaWVzKHNlYXJjaFZhbHVlKSApXG4gICAgICAgICAgICAgICAgICAgIHRlbXAgPSB0ZW1wLnJlcGxhY2VBbGwoc3YsIHJ2KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgcmVwbGFjZUFsbCBnb3QgYSBiYWQgdHlwZSwgc2VhcmNoVmFsdWU6ICR7c2VhcmNoVmFsdWV9LCB0eXBlOiAke3R5cGV9YCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuLy8gKiogIE51bWJlclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KE51bWJlci5wcm90b3R5cGUsIFwiaHVtYW5cIiwge1xuICAgIGVudW1lcmFibGUgOiBmYWxzZSxcbiAgICB2YWx1ZShsZXR0ZXJzID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgZmxvb3JlZCA9IE1hdGguZmxvb3IodGhpcyk7XG4gICAgICAgIHN3aXRjaCAoIGZsb29yZWQgKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxldHRlcnNcbiAgICAgICAgICAgICAgICAgICAgPyBcInplcm90aFwiXG4gICAgICAgICAgICAgICAgICAgIDogXCIwdGhcIjtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICByZXR1cm4gbGV0dGVyc1xuICAgICAgICAgICAgICAgICAgICA/IFwiZmlyc3RcIlxuICAgICAgICAgICAgICAgICAgICA6IFwiMXN0XCI7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxldHRlcnNcbiAgICAgICAgICAgICAgICAgICAgPyBcInNlY29uZFwiXG4gICAgICAgICAgICAgICAgICAgIDogXCIybmRcIjtcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbGV0dGVyc1xuICAgICAgICAgICAgICAgICAgICA/IFwidGhpcmRcIlxuICAgICAgICAgICAgICAgICAgICA6IFwiM3JkXCI7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxldHRlcnNcbiAgICAgICAgICAgICAgICAgICAgPyBcImZvdXJ0aFwiXG4gICAgICAgICAgICAgICAgICAgIDogXCI0dGhcIjtcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICByZXR1cm4gbGV0dGVyc1xuICAgICAgICAgICAgICAgICAgICA/IFwiZmlmdGhcIlxuICAgICAgICAgICAgICAgICAgICA6IFwiNXRoXCI7XG4gICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxldHRlcnNcbiAgICAgICAgICAgICAgICAgICAgPyBcInNpeHRoXCJcbiAgICAgICAgICAgICAgICAgICAgOiBcIjZ0aFwiO1xuICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgIHJldHVybiBsZXR0ZXJzXG4gICAgICAgICAgICAgICAgICAgID8gXCJzZXZlbnRoXCJcbiAgICAgICAgICAgICAgICAgICAgOiBcIjd0aFwiO1xuICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgIHJldHVybiBsZXR0ZXJzXG4gICAgICAgICAgICAgICAgICAgID8gXCJlaWdodGhcIlxuICAgICAgICAgICAgICAgICAgICA6IFwiOHRoXCI7XG4gICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxldHRlcnNcbiAgICAgICAgICAgICAgICAgICAgPyBcIm5pbnRoXCJcbiAgICAgICAgICAgICAgICAgICAgOiBcIjl0aFwiO1xuICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbGV0dGVyc1xuICAgICAgICAgICAgICAgICAgICA/IFwidGVudGhcIlxuICAgICAgICAgICAgICAgICAgICA6IFwiMTB0aFwiO1xuICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICByZXR1cm4gbGV0dGVyc1xuICAgICAgICAgICAgICAgICAgICA/IFwiZWxldmVudGhcIlxuICAgICAgICAgICAgICAgICAgICA6IFwiMTF0aFwiO1xuICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gbGV0dGVyc1xuICAgICAgICAgICAgICAgICAgICA/IFwidHdlbHZldGhcIlxuICAgICAgICAgICAgICAgICAgICA6IFwiMTJ0aFwiO1xuICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbGV0dGVyc1xuICAgICAgICAgICAgICAgICAgICA/IFwidGhpcnRlZW50aFwiXG4gICAgICAgICAgICAgICAgICAgIDogXCIxM3RoXCI7XG4gICAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgICAgIHJldHVybiBsZXR0ZXJzXG4gICAgICAgICAgICAgICAgICAgID8gXCJmb3VydGVlbnRoXCJcbiAgICAgICAgICAgICAgICAgICAgOiBcIjE0dGhcIjtcbiAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxldHRlcnNcbiAgICAgICAgICAgICAgICAgICAgPyBcImZpZnRlZW50aFwiXG4gICAgICAgICAgICAgICAgICAgIDogXCIxNXRoXCI7XG4gICAgICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgICAgIHJldHVybiBsZXR0ZXJzXG4gICAgICAgICAgICAgICAgICAgID8gXCJzaXh0ZWVudGhcIlxuICAgICAgICAgICAgICAgICAgICA6IFwiMTZ0aFwiO1xuICAgICAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbGV0dGVyc1xuICAgICAgICAgICAgICAgICAgICA/IFwic2V2ZW50ZWVudGhcIlxuICAgICAgICAgICAgICAgICAgICA6IFwiMTd0aFwiO1xuICAgICAgICAgICAgY2FzZSAxODpcbiAgICAgICAgICAgICAgICByZXR1cm4gbGV0dGVyc1xuICAgICAgICAgICAgICAgICAgICA/IFwiZWlnaHRlZW50aFwiXG4gICAgICAgICAgICAgICAgICAgIDogXCIxOHRoXCI7XG4gICAgICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgICAgICAgIHJldHVybiBsZXR0ZXJzXG4gICAgICAgICAgICAgICAgICAgID8gXCJuaW50ZWVudGhcIlxuICAgICAgICAgICAgICAgICAgICA6IFwiMTl0aFwiO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjb25zdCBzdHJpbmdlZCA9IGZsb29yZWQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0Q2hhciA9IHN0cmluZ2VkLnNsaWNlKC0xKTtcbiAgICAgICAgICAgICAgICBsZXQgc3VmZml4O1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoIGxhc3RDaGFyICkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiMVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3VmZml4ID0gXCJzdFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCIyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWZmaXggPSBcIm5kXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIjNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1ZmZpeCA9IFwicmRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgc3VmZml4ID0gXCJ0aFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtmbG9vcmVkfSR7c3VmZml4fWA7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxufSk7XG4vLyAqKiAgRGF0ZVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KERhdGUucHJvdG90eXBlLCBcImh1bWFuXCIsIHtcbiAgICBlbnVtZXJhYmxlIDogZmFsc2UsIHZhbHVlKCkge1xuICAgICAgICBsZXQgZCA9IHRoaXMuZ2V0VVRDRGF0ZSgpO1xuICAgICAgICBkID0gZCA8IDEwID8gYDAke2R9YCA6IGQ7XG4gICAgICAgIGxldCBtID0gdGhpcy5nZXRNb250aCgpICsgMTtcbiAgICAgICAgbSA9IG0gPCAxMCA/IGAwJHttfWAgOiBtO1xuICAgICAgICBjb25zdCB5ID0gdGhpcy5nZXRGdWxsWWVhcigpO1xuICAgICAgICBjb25zdCB0ID0gdGhpcy50b1RpbWVTdHJpbmcoKS5zbGljZSgwLCA4KS5yZXBsYWNlQWxsKCc6JywgJy0nKTtcbiAgICAgICAgcmV0dXJuIGAke2R9XyR7bX1fJHt5fV8ke3R9YDtcbiAgICB9XG59KTtcbi8vICoqICBFcnJvclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEVycm9yLnByb3RvdHlwZSwgXCJ0b09ialwiLCB7XG4gICAgZW51bWVyYWJsZSA6IGZhbHNlLCB2YWx1ZSgpIHtcbiAgICAgICAgY29uc3Qgd2hlcmUgPSB0aGlzLnN0YWNrLnNsaWNlKHRoaXMuc3RhY2suc2VhcmNoKC8oPzw9XFxzKWF0LyksIHRoaXMuc3RhY2suc2VhcmNoKC8oPzw9YXRcXHMuKilcXG4vKSk7XG4gICAgICAgIGNvbnN0IHdoYXQgPSB0aGlzLm1lc3NhZ2U7XG4gICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMpO1xuICAgICAgICBjb25zdCBjbGVhbnN0YWNrID0gdGhpcy5zdGFjay5zcGxpdCgnXFxuJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKHMgPT4gcy5pbmNsdWRlcyhST09UX1BBVEhfQUJTKSAmJiAhcy5pbmNsdWRlcygnbm9kZV9tb2R1bGVzJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcyA9IHMudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZnJhbWUgPSBzLnNsaWNlKHMuc2VhcmNoKFJPT1RfUEFUSF9BQlMpLCBzLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgWyBmaWxlLCBsaW5lbm8sIC4uLnJlc3QgXSA9IGZyYW1lLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUgPSBwYXRoLnJlbGF0aXZlKFJPT1RfUEFUSF9BQlMsIGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBmaWxlLCBsaW5lbm8gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHsgd2hhdCwgd2hlcmUsIGNsZWFuc3RhY2sgfVxuICAgIH1cbn0pO1xuXG5jb25zdCB7IHJlbW90ZSB9ID0gcmVxdWlyZSgnZWxlY3Ryb24nKTtcbmNvbnN0IGFyZ3ZhcnMgPSByZW1vdGUucHJvY2Vzcy5hcmd2LnNsaWNlKDIpLm1hcChzID0+IHMudG9Mb3dlckNhc2UoKSk7XG5jb25zdCBERUJVRyA9IGFyZ3ZhcnMuaW5jbHVkZXMoJ2RlYnVnJyk7XG5jb25zdCBEUllSVU4gPSBhcmd2YXJzLmluY2x1ZGVzKCdkcnktcnVuJyk7XG5jb25zdCBOT1BZVEhPTiA9IGFyZ3ZhcnMuaW5jbHVkZXMoJ25vLXB5dGhvbicpO1xuY29uc3QgTE9HID0gYXJndmFycy5pbmNsdWRlcygnbG9nJyk7XG4vLyBAdHMtaWdub3JlXG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xubGV0IFJPT1RfUEFUSF9BQlM6IHN0cmluZztcbmxldCBTUkNfUEFUSF9BQlM6IHN0cmluZztcbmlmICggcGF0aC5iYXNlbmFtZShfX2Rpcm5hbWUpID09PSAnc3JjJyApIHtcbiAgICBST09UX1BBVEhfQUJTID0gcGF0aC5qb2luKF9fZGlybmFtZSwgJy4uJyk7XG4gICAgU1JDX1BBVEhfQUJTID0gX19kaXJuYW1lO1xufSBlbHNlIHtcbiAgICBST09UX1BBVEhfQUJTID0gX19kaXJuYW1lO1xuICAgIFNSQ19QQVRIX0FCUyA9IHBhdGguam9pbihST09UX1BBVEhfQUJTLCAnc3JjJyk7XG59XG5jb25zdCB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5jb25zdCB7IGRlZmF1bHQgOiBteWZzIH0gPSByZXF1aXJlKCcuL015RnMnKTtcbmNvbnN0IEVSUk9SU19QQVRIX0FCUyA9IHBhdGguam9pbihST09UX1BBVEhfQUJTLCAnZXJyb3JzJyk7XG5teWZzLmNyZWF0ZUlmTm90RXhpc3RzKEVSUk9SU19QQVRIX0FCUyk7XG4vLyAvc3JjL3RlbXBsYXRlc1xuLy8gY29uc3QgVEVNUExBVEVTX1BBVEhfQUJTID0gcGF0aC5qb2luKFJPT1RfUEFUSF9BQlMsICd0ZW1wbGF0ZXMnKTtcbi8vIC9zcmMvU2FsYW1hbmRlclxuLy8gVE9ETzogVEVTVCBPTiBXSU5ET1dTXG5jb25zdCBTQUxBTUFOREVSX1BBVEhfQUJTID0gcGF0aC5qb2luKFNSQ19QQVRIX0FCUy5zbGljZSgxKSwgJ1NhbGFtYW5kZXIvJyk7XG5cbi8vIC9zcmMvZXhwZXJpbWVudHNcbmNvbnN0IEVYUEVSSU1FTlRTX1BBVEhfQUJTID0gcGF0aC5qb2luKFNSQ19QQVRIX0FCUywgJ2V4cGVyaW1lbnRzJyk7XG5teWZzLmNyZWF0ZUlmTm90RXhpc3RzKEVYUEVSSU1FTlRTX1BBVEhfQUJTKTtcbmNvbnN0IFNFU1NJT05fUEFUSF9BQlMgPSBwYXRoLmpvaW4oRVJST1JTX1BBVEhfQUJTLCBgc2Vzc2lvbl9fJHtuZXcgRGF0ZSgpLmh1bWFuKCl9YCk7XG5pZiAoIExPRyApIHtcbiAgICBteWZzLmNyZWF0ZUlmTm90RXhpc3RzKFNFU1NJT05fUEFUSF9BQlMpO1xufVxuXG4vLyAvc3JjL2V4cGVyaW1lbnRzL3RydXRoc1xuY29uc3QgVFJVVEhTX1BBVEhfQUJTID0gcGF0aC5qb2luKEVYUEVSSU1FTlRTX1BBVEhfQUJTLCAndHJ1dGhzJyk7XG5teWZzLmNyZWF0ZUlmTm90RXhpc3RzKFRSVVRIU19QQVRIX0FCUyk7XG4vLyAvc3JjL2V4cGVyaW1lbnRzL2NvbmZpZ3NcbmNvbnN0IENPTkZJR1NfUEFUSF9BQlMgPSBwYXRoLmpvaW4oRVhQRVJJTUVOVFNfUEFUSF9BQlMsICdjb25maWdzJyk7XG5teWZzLmNyZWF0ZUlmTm90RXhpc3RzKENPTkZJR1NfUEFUSF9BQlMpO1xuLy8gL3NyYy9leHBlcmltZW50cy9zdWJqZWN0c1xuY29uc3QgU1VCSkVDVFNfUEFUSF9BQlMgPSBwYXRoLmpvaW4oRVhQRVJJTUVOVFNfUEFUSF9BQlMsICdzdWJqZWN0cycpO1xubXlmcy5jcmVhdGVJZk5vdEV4aXN0cyhTVUJKRUNUU19QQVRIX0FCUyk7XG5cbmNvbnN0IGN1cnJlbnRXaW5kb3cgPSByZW1vdGUuZ2V0Q3VycmVudFdpbmRvdygpO1xuY3VycmVudFdpbmRvdy5vbihcImZvY3VzXCIsICgpID0+IHtcbiAgICBcbiAgICByZW1vdGUuZ2xvYmFsU2hvcnRjdXQucmVnaXN0ZXIoJ0NvbW1hbmRPckNvbnRyb2wrWScsICgpID0+IHJlbW90ZS5nZXRDdXJyZW50V2luZG93KCkud2ViQ29udGVudHMub3BlbkRldlRvb2xzKCkpO1xuICAgIHJlbW90ZS5nbG9iYWxTaG9ydGN1dC5yZWdpc3RlcignQ29tbWFuZE9yQ29udHJvbCtRJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB7IGRlZmF1bHQgOiBNeUFsZXJ0IH0gPSByZXF1aXJlKCcuL015QWxlcnQnKTtcbiAgICAgICAgY29uc3QgYWN0aW9uID0gYXdhaXQgTXlBbGVydC5iaWcudHdvQnV0dG9ucygnUmVzZXQgZmluaXNoZWQgdHJpYWxzIGNvdW50IGFuZCBiYWNrIHRvIE5ldyBwYWdlPycpO1xuICAgICAgICBpZiAoIGFjdGlvbiA9PT0gXCJjYW5jZWxcIiApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXF1aXJlKCcuL0dsb2InKS5kZWZhdWx0LkJpZ0NvbmZpZy5sYXN0X3BhZ2UgPSAnbmV3JztcbiAgICAgICAgcmVtb3RlLmdldEN1cnJlbnRXaW5kb3coKS5yZWxvYWQoKTtcbiAgICB9KTtcbn0pO1xuY3VycmVudFdpbmRvdy5vbignYmx1cicsICgpID0+IHJlbW90ZS5nbG9iYWxTaG9ydGN1dC51bnJlZ2lzdGVyQWxsKCkpO1xuaWYgKCBMT0cgKSB7XG4gICAgY29uc3QgeyBkZWZhdWx0IDogbG9nIH0gPSByZXF1aXJlKCdlbGVjdHJvbi1sb2cnKTtcbiAgICBsb2dbMV0gPSBsb2cubG9nO1xuICAgIGxvZ1syXSA9IGxvZy53YXJuO1xuICAgIGxvZ1szXSA9IGxvZy5lcnJvcjtcbiAgICBsb2cudHJhbnNwb3J0cy5maWxlLmZpbGUgPSBwYXRoLmpvaW4oU0VTU0lPTl9QQVRIX0FCUywgJ2xvZy5sb2cnKTtcbiAgICBcbiAgICBjdXJyZW50V2luZG93LndlYkNvbnRlbnRzLm9uKFwiY29uc29sZS1tZXNzYWdlXCIsIChldmVudCwgbGV2ZWwsIG1lc3NhZ2UsIGxpbmUsIHNvdXJjZUlkKSA9PiB7XG4gICAgICAgIC8vIGlmICggIUxPRyApIHJldHVybjtcbiAgICAgICAgaWYgKCBtZXNzYWdlLmluY2x1ZGVzKCdjb25zb2xlLmdyb3VwJykgKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBsZXZlbCA9IHsgMSA6ICdMT0cnLCAyIDogJ1dBUk4nLCAzIDogJ0VSUk9SJyB9W2xldmVsXTtcbiAgICAgICAgc291cmNlSWQgPSBwYXRoLnJlbGF0aXZlKFJPT1RfUEFUSF9BQlMsIHNvdXJjZUlkKTtcbiAgICAgICAgbG9nLnRyYW5zcG9ydHMuZmlsZSh7XG4gICAgICAgICAgICBkYXRhIDogWyBgJHtzb3VyY2VJZH06JHtsaW5lfWAsIG1lc3NhZ2UgXSxcbiAgICAgICAgICAgIGxldmVsLFxuICAgICAgICAgICAgXG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgIH0pO1xufVxuXG5cbmNvbnNvbGUudGFibGUoe1xuICAgIF9fZGlybmFtZSxcbiAgICBST09UX1BBVEhfQUJTLFxuICAgIFNSQ19QQVRIX0FCUyxcbiAgICBFUlJPUlNfUEFUSF9BQlMsXG4gICAgU0VTU0lPTl9QQVRIX0FCUyxcbiAgICBTQUxBTUFOREVSX1BBVEhfQUJTLFxuICAgIEVYUEVSSU1FTlRTX1BBVEhfQUJTLFxuICAgIFRSVVRIU19QQVRIX0FCUyxcbiAgICBDT05GSUdTX1BBVEhfQUJTLFxuICAgIFNVQkpFQ1RTX1BBVEhfQUJTLFxuICAgIERFQlVHLCBEUllSVU4sIE5PUFlUSE9OLCBMT0dcbn0pO1xuXG5cbmNvbnNvbGUuZ3JvdXBFbmQoKTtcbiJdfQ==