"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tone_1 = require("tone");
function noteToMidi(note) {
    return tone_1.Frequency(note).toMidi();
}
exports.noteToMidi = noteToMidi;
function midiToNote(midi) {
    const frequency = tone_1.Frequency(midi, 'midi');
    const ret = frequency.toNote();
    return ret;
}
exports.midiToNote = midiToNote;
function midiToFrequencyRatio(midi) {
    const mod = midi % 3;
    if (mod === 1) {
        return [midi - 1, tone_1.intervalToFrequencyRatio(1)];
    }
    else if (mod === 2) {
        return [midi + 1, tone_1.intervalToFrequencyRatio(-1)];
    }
    else {
        return [midi, 1];
    }
}
function createSource(buffer) {
    return new tone_1.ToneBufferSource(buffer);
}
function randomBetween(low, high) {
    return Math.random() * (high - low) + low;
}
exports.randomBetween = randomBetween;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVXRpbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIlV0aWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQSwrQkFBMkY7QUFFM0YsU0FBZ0IsVUFBVSxDQUFDLElBQVk7SUFDbkMsT0FBTyxnQkFBUyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFBO0FBQ25DLENBQUM7QUFGRCxnQ0FFQztBQUVELFNBQWdCLFVBQVUsQ0FBQyxJQUFZO0lBQ25DLE1BQU0sU0FBUyxHQUFHLGdCQUFTLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQzFDLE1BQU0sR0FBRyxHQUFHLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUMvQixPQUFPLEdBQUcsQ0FBQTtBQUNkLENBQUM7QUFKRCxnQ0FJQztBQUVELFNBQVMsb0JBQW9CLENBQUMsSUFBWTtJQUN0QyxNQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFDO0lBQ3JCLElBQUksR0FBRyxLQUFLLENBQUMsRUFBRTtRQUNYLE9BQU8sQ0FBQyxJQUFJLEdBQUcsQ0FBQyxFQUFFLCtCQUF3QixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7S0FDakQ7U0FBTSxJQUFJLEdBQUcsS0FBSyxDQUFDLEVBQUU7UUFFbEIsT0FBTyxDQUFDLElBQUksR0FBRyxDQUFDLEVBQUUsK0JBQXdCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO0tBQ2xEO1NBQU07UUFDSCxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFBO0tBQ25CO0FBQ0wsQ0FBQztBQUVELFNBQVMsWUFBWSxDQUFDLE1BQXFDO0lBQ3ZELE9BQU8sSUFBSSx1QkFBZ0IsQ0FBQyxNQUFNLENBQUMsQ0FBQTtBQUN2QyxDQUFDO0FBRUQsU0FBZ0IsYUFBYSxDQUFDLEdBQVcsRUFBRSxJQUFZO0lBQ25ELE9BQU8sSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQTtBQUM3QyxDQUFDO0FBRkQsc0NBRUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgKiBhcyBUb25lIGZyb20gJy4uL25vZGVfbW9kdWxlcy90b25lL1RvbmUnXG5pbXBvcnQge0ZyZXF1ZW5jeSwgaW50ZXJ2YWxUb0ZyZXF1ZW5jeVJhdGlvLCBUb25lQXVkaW9CdWZmZXIsIFRvbmVCdWZmZXJTb3VyY2V9IGZyb20gJ3RvbmUnXG5cbmV4cG9ydCBmdW5jdGlvbiBub3RlVG9NaWRpKG5vdGU6IHN0cmluZyk6IG51bWJlciB7XG4gICAgcmV0dXJuIEZyZXF1ZW5jeShub3RlKS50b01pZGkoKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWlkaVRvTm90ZShtaWRpOiBudW1iZXIpOiBzdHJpbmcge1xuICAgIGNvbnN0IGZyZXF1ZW5jeSA9IEZyZXF1ZW5jeShtaWRpLCAnbWlkaScpO1xuICAgIGNvbnN0IHJldCA9IGZyZXF1ZW5jeS50b05vdGUoKTtcbiAgICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIG1pZGlUb0ZyZXF1ZW5jeVJhdGlvKG1pZGk6IG51bWJlcik6IFtudW1iZXIsIG51bWJlcl0ge1xuICAgIGNvbnN0IG1vZCA9IG1pZGkgJSAzO1xuICAgIGlmIChtb2QgPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIFttaWRpIC0gMSwgaW50ZXJ2YWxUb0ZyZXF1ZW5jeVJhdGlvKDEpXVxuICAgIH0gZWxzZSBpZiAobW9kID09PSAyKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIFttaWRpICsgMSwgaW50ZXJ2YWxUb0ZyZXF1ZW5jeVJhdGlvKC0xKV1cbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gW21pZGksIDFdXG4gICAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTb3VyY2UoYnVmZmVyOiBUb25lQXVkaW9CdWZmZXIgfCBBdWRpb0J1ZmZlcik6IFRvbmVCdWZmZXJTb3VyY2Uge1xuICAgIHJldHVybiBuZXcgVG9uZUJ1ZmZlclNvdXJjZShidWZmZXIpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByYW5kb21CZXR3ZWVuKGxvdzogbnVtYmVyLCBoaWdoOiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpICogKGhpZ2ggLSBsb3cpICsgbG93XG59XG4iXX0=