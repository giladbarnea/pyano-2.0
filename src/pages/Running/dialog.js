"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const bhe_1 = require("../../bhe");
const util_1 = require("../../util");
class Dialog extends bhe_1.VisualBHE {
    constructor() {
        super({ tag: 'div' });
        this.id('dialog');
        this.cacheAppend({
            big: bhe_1.div({ cls: 'big' }),
            medium: bhe_1.div({ cls: 'medium' }),
            small: bhe_1.div({ cls: 'small' })
        });
    }
    static humanize(num) {
        return (num + 1).human(true).title();
    }
    async intro(demoType) {
        const noun = demoType === "video" ? 'a video' : 'an animation';
        this.big.text('A Tutorial');
        this.medium.text(`Here's ${noun} that shows everything youâ€™ll be learning today`);
        this.small.text(`(Click anywhere to start playing)`);
        return await this.display();
    }
    async levelIntro(levelCollection) {
        const currentLevel = levelCollection.current;
        this.big.text(`${Dialog.humanize(currentLevel.index)} Level`);
        this.medium.text(`${Dialog.humanize(currentLevel.internalTrialIndex)} Trial`);
        return await this.display();
    }
    async display() {
        this.big.addClass('active');
        this.medium.addClass('active');
        this.small.addClass('active');
        return await util_1.wait(this._opacTransDur, false);
    }
    async hide() {
        this.big.removeClass('active');
        this.medium.removeClass('active');
        this.small.removeClass('active');
        return await util_1.wait(this._opacTransDur, false);
    }
}
exports.default = Dialog;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGlhbG9nLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZGlhbG9nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsbUNBQWdEO0FBRWhELHFDQUFrQztBQUdsQyxNQUFNLE1BQU8sU0FBUSxlQUFTO0lBSzFCO1FBQ0ksS0FBSyxDQUFDLEVBQUUsR0FBRyxFQUFHLEtBQUssRUFBRSxDQUFDLENBQUM7UUFDdkIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUVsQixJQUFJLENBQUMsV0FBVyxDQUFDO1lBQ2IsR0FBRyxFQUFHLFNBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRyxLQUFLLEVBQUUsQ0FBQztZQUMxQixNQUFNLEVBQUcsU0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFHLFFBQVEsRUFBRSxDQUFDO1lBQ2hDLEtBQUssRUFBRyxTQUFHLENBQUMsRUFBRSxHQUFHLEVBQUcsT0FBTyxFQUFFLENBQUM7U0FDakMsQ0FBQyxDQUFBO0lBQ04sQ0FBQztJQUVPLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBVztRQUMvQixPQUFPLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQTtJQUN4QyxDQUFDO0lBRUQsS0FBSyxDQUFDLEtBQUssQ0FBQyxRQUFrQjtRQUMxQixNQUFNLElBQUksR0FBRyxRQUFRLEtBQUssT0FBTyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQztRQUMvRCxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUM1QixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLElBQUksaURBQWlELENBQUMsQ0FBQztRQUNsRixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxtQ0FBbUMsQ0FBQyxDQUFDO1FBQ3JELE9BQU8sTUFBTSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDaEMsQ0FBQztJQUVELEtBQUssQ0FBQyxVQUFVLENBQUMsZUFBZ0M7UUFDN0MsTUFBTSxZQUFZLEdBQUcsZUFBZSxDQUFDLE9BQU8sQ0FBQztRQUM3QyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM5RCxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLGtCQUFrQixDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzlFLE9BQU8sTUFBTSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDaEMsQ0FBQztJQUVELEtBQUssQ0FBQyxPQUFPO1FBQ1QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDNUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDL0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDOUIsT0FBTyxNQUFNLFdBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ2pELENBQUM7SUFFRCxLQUFLLENBQUMsSUFBSTtRQUNOLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQy9CLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2xDLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2pDLE9BQU8sTUFBTSxXQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUNqRCxDQUFDO0NBQ0o7QUFFRCxrQkFBZSxNQUFNLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEaXYsIGRpdiwgVmlzdWFsQkhFIH0gZnJvbSBcIi4uLy4uL2JoZVwiO1xuaW1wb3J0IHsgRGVtb1R5cGUgfSBmcm9tIFwiLi4vLi4vTXlTdG9yZVwiO1xuaW1wb3J0IHsgd2FpdCB9IGZyb20gXCIuLi8uLi91dGlsXCI7XG5pbXBvcnQgeyBMZXZlbENvbGxlY3Rpb24gfSBmcm9tIFwiLi4vLi4vTGV2ZWxcIjtcblxuY2xhc3MgRGlhbG9nIGV4dGVuZHMgVmlzdWFsQkhFIHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGJpZzogRGl2O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgbWVkaXVtOiBEaXY7XG4gICAgcHJpdmF0ZSByZWFkb25seSBzbWFsbDogRGl2O1xuICAgIFxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcih7IHRhZyA6ICdkaXYnIH0pO1xuICAgICAgICB0aGlzLmlkKCdkaWFsb2cnKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuY2FjaGVBcHBlbmQoe1xuICAgICAgICAgICAgYmlnIDogZGl2KHsgY2xzIDogJ2JpZycgfSksXG4gICAgICAgICAgICBtZWRpdW0gOiBkaXYoeyBjbHMgOiAnbWVkaXVtJyB9KSxcbiAgICAgICAgICAgIHNtYWxsIDogZGl2KHsgY2xzIDogJ3NtYWxsJyB9KVxuICAgICAgICB9KVxuICAgIH1cbiAgICBcbiAgICBwcml2YXRlIHN0YXRpYyBodW1hbml6ZShudW06IG51bWJlcik6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAobnVtICsgMSkuaHVtYW4odHJ1ZSkudGl0bGUoKVxuICAgIH1cbiAgICBcbiAgICBhc3luYyBpbnRybyhkZW1vVHlwZTogRGVtb1R5cGUpIHtcbiAgICAgICAgY29uc3Qgbm91biA9IGRlbW9UeXBlID09PSBcInZpZGVvXCIgPyAnYSB2aWRlbycgOiAnYW4gYW5pbWF0aW9uJztcbiAgICAgICAgdGhpcy5iaWcudGV4dCgnQSBUdXRvcmlhbCcpO1xuICAgICAgICB0aGlzLm1lZGl1bS50ZXh0KGBIZXJlJ3MgJHtub3VufSB0aGF0IHNob3dzIGV2ZXJ5dGhpbmcgeW914oCZbGwgYmUgbGVhcm5pbmcgdG9kYXlgKTtcbiAgICAgICAgdGhpcy5zbWFsbC50ZXh0KGAoQ2xpY2sgYW55d2hlcmUgdG8gc3RhcnQgcGxheWluZylgKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZGlzcGxheSgpO1xuICAgIH1cbiAgICBcbiAgICBhc3luYyBsZXZlbEludHJvKGxldmVsQ29sbGVjdGlvbjogTGV2ZWxDb2xsZWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRMZXZlbCA9IGxldmVsQ29sbGVjdGlvbi5jdXJyZW50O1xuICAgICAgICB0aGlzLmJpZy50ZXh0KGAke0RpYWxvZy5odW1hbml6ZShjdXJyZW50TGV2ZWwuaW5kZXgpfSBMZXZlbGApO1xuICAgICAgICB0aGlzLm1lZGl1bS50ZXh0KGAke0RpYWxvZy5odW1hbml6ZShjdXJyZW50TGV2ZWwuaW50ZXJuYWxUcmlhbEluZGV4KX0gVHJpYWxgKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZGlzcGxheSgpO1xuICAgIH1cbiAgICBcbiAgICBhc3luYyBkaXNwbGF5KCkge1xuICAgICAgICB0aGlzLmJpZy5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIHRoaXMubWVkaXVtLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgdGhpcy5zbWFsbC5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIHJldHVybiBhd2FpdCB3YWl0KHRoaXMuX29wYWNUcmFuc0R1ciwgZmFsc2UpO1xuICAgIH1cbiAgICBcbiAgICBhc3luYyBoaWRlKCkge1xuICAgICAgICB0aGlzLmJpZy5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIHRoaXMubWVkaXVtLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgdGhpcy5zbWFsbC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIHJldHVybiBhd2FpdCB3YWl0KHRoaXMuX29wYWNUcmFuc0R1ciwgZmFsc2UpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGlhbG9nXG4iXX0=